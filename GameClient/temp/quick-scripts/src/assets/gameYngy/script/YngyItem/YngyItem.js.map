{"version":3,"sources":["assets/gameYngy/script/YngyItem/YngyItem.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,oFAAmF;AACnF,mEAAkE;AAGlE,wDAAoD;AACpD,8DAA6D;AAEvD,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAE5C;IAAsC,4BAAc;IAApD;QAAA,qEAgEC;QA/DG,gBAAgB;QACT,gBAAU,GAAG,YAAY,CAAC;QAE1B,WAAK,GAAkB,SAAS,CAAC;QACjC,UAAI,GAAiB,SAAS,CAAC;;IA2D1C,CAAC;IAzDa,2BAAQ,GAAlB;QACI,IAAI,iBAAM,QAAQ,EAAE;YAChB,iBAAM,QAAQ,WAAE,CAAC;SACpB;QACD,IAAI,CAAC,EAAE,CAAC,iBAAO,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;IACnE,CAAC;IAES,4BAAS,GAAnB;QACI,IAAI,iBAAM,SAAS,EAAE;YACjB,iBAAM,SAAS,WAAE,CAAC;SACrB;QACD,IAAI,CAAC,GAAG,CAAC,iBAAO,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;IAC1C,CAAC;IAEa,gCAAa,GAA3B,UAA4B,SAAiB,EAAE,SAAoB;;;gBAC/D,QAAQ,SAAS,CAAC,IAAI,EAAE;oBAEpB,KAAK,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI;wBAC1B,IAAI,CAAC,cAAc,EAAE,CAAC;wBACtB,MAAM;oBAEV;wBACI,MAAM;iBACb;;;;KACJ;IAEO,iCAAc,GAAtB;QACI,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,cAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE;YACxD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE;gBAC5B,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE;oBAC1B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;iBACxD;aACJ;SACJ;IACL,CAAC;IAGM,uBAAI,GAAX,UAAY,IAAuB;QAC/B,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC1B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAA;IACvB,CAAC;IAEM,2BAAQ,GAAf,UAAgB,IAAuB;QACnC,IAAI,GAAG,GAAG,uBAAU,CAAC,MAAM,CAAC,IAAI,GAAG,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC;QACtD,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,GAAG,CAAC,CAAA;QAC3D,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;QAC/B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;IAClC,CAAC;IAEO,4BAAS,GAAjB,UAAkB,SAAkB,EAAE,IAAgB;QAAhB,qBAAA,EAAA,QAAgB;QAClD,EAAE,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;QACnC,IAAI,YAAY,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAA;QACxC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;aACd,EAAE,CAAC,IAAI,EAAE,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,EAAE,CAAC;aACnD,KAAK,EAAE,CAAA;IAChB,CAAC;IA9DgB,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAgE5B;IAAD,eAAC;CAhED,AAgEC,CAhEqC,+BAAc,GAgEnD;kBAhEoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["import { UIPControlBase } from './../../../c2f-framework/gui/layer/UIPControlBase';\nimport { C2FEnum } from './../../../c2f-framework/define/C2FEnum';\nimport YngyItemModel from './YngyItemModel';\nimport YngyItemView from './YngyItemView';\nimport { UIPa } from '../../../Script/game/UIParam';\nimport { GameConsts } from '../../../Script/game/GameConsts';\n\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport default class YngyItem extends UIPControlBase {\n    /** 预制名 给实例调用 */\n    public prefabName = 'P_YngyItem';\n\n    public model: YngyItemModel = undefined;\n    public view: YngyItemView = undefined;\n\n    protected onEnable(): void {\n        if (super.onEnable) {\n            super.onEnable();\n        }\n        this.on(C2FEnum.UIEvent.ButtonClick, this.onButtonClick, this);\n    }\n\n    protected onDisable(): void {\n        if (super.onDisable) {\n            super.onDisable();\n        }\n        this.off(C2FEnum.UIEvent.ButtonClick);\n    }\n\n    private async onButtonClick(eventType: string, component: cc.Button) {\n        switch (component.name) {\n\n            case this.view.iconButton.name:\n                this.CC_onClickicon();\n                break;\n\n            default:\n                break;\n        }\n    }\n\n    private CC_onClickicon() {\n        if (this.model.data.state == UIPa.YngyItemArgsStates.Alive) {\n            if (!this.model.data.hideState) {\n                if (this.model.data.clickFun) {\n                    this.model.data.clickFun(this.model.data, this.node);\n                }\n            }\n        }\n    }\n\n\n    public init(data: UIPa.YngyItemArgs) {\n        this.model.initData(data);\n        this.initView(data)\n    }\n\n    public initView(data: UIPa.YngyItemArgs) {\n        let url = GameConsts.ResUrl.yngy + \"chip_\" + data.typ;\n        c2f.utils.view.changeSpriteFrame(this.view.iconSprite, url)\n        this.node.setPosition(data.pos)\n        this.setOpcity(data.hideState)\n    }\n\n    private setOpcity(hideState: boolean, time: number = 0) {\n        cc.Tween.stopAllByTarget(this.node)\n        let opacityValue = hideState ? 100 : 255\n        cc.tween(this.node)\n            .to(time, { opacity: hideState ? 0 : opacityValue })\n            .start()\n    }\n\n}"]}