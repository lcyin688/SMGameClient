{"version":3,"sources":["assets/entrance/script/platform/PlatNative.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { GameConsts } from \"../../../Script/game/GameConsts\";\nimport { PlatBase } from \"./PlatBase\";\nimport { PlatDef } from \"./PlatDefine\";\n\nexport class PlatNative extends PlatBase {\n\n    /** android接口类 */\n    protected andClass: string;\n    /** ios接口类 */\n    protected iosClass: string;\n    /** 原生调用接口映射表 */\n    protected sdkMapping: any;\n    /** 接口函数列表 */\n    private sdkFunc: Object;\n\n    constructor() {\n        super();\n        this.sdkMapping = null;\n        this.initSdkFunc();\n    }\n\n    /** 初始接口定义 */\n    protected initSdkFunc() {\n        this.sdkFunc = {};\n        this.sdkFunc[PlatDef.SdkFuncName.sdkInit] = PlatDef.SdkFuncName.sdkInit;\n        this.sdkFunc[PlatDef.SdkFuncName.sdkLogin] = PlatDef.SdkFuncName.sdkLogin;\n        this.sdkFunc[PlatDef.SdkFuncName.sdkLogout] = PlatDef.SdkFuncName.sdkLogout;\n        this.sdkFunc[PlatDef.SdkFuncName.sdkSwitchAcc] = PlatDef.SdkFuncName.sdkSwitchAcc;\n        this.sdkFunc[PlatDef.SdkFuncName.sdkQuitGame] = PlatDef.SdkFuncName.sdkQuitGame;\n        this.sdkFunc[PlatDef.SdkFuncName.sdkSubmit] = PlatDef.SdkFuncName.sdkSubmit;\n        this.sdkFunc[PlatDef.SdkFuncName.sdkPay] = PlatDef.SdkFuncName.sdkPay;\n        this.sdkFunc[PlatDef.SdkFuncName.sdkAccCenter] = PlatDef.SdkFuncName.sdkAccCenter;\n        this.sdkFunc[PlatDef.SdkFuncName.sdkPrivacyPolicy] = PlatDef.SdkFuncName.sdkPrivacyPolicy;\n        this.sdkFunc[PlatDef.SdkFuncName.sdkShare] = PlatDef.SdkFuncName.sdkShare;\n        this.sdkFunc[PlatDef.SdkFuncName.getPlatCfg] = PlatDef.SdkFuncName.getPlatCfg;\n        this.sdkFunc[PlatDef.SdkFuncName.loadPhoneInfo] = PlatDef.SdkFuncName.loadPhoneInfo;\n        this.sdkFunc[PlatDef.SdkFuncName.copyToClipboard] = PlatDef.SdkFuncName.copyToClipboard;\n        this.sdkFunc[PlatDef.SdkFuncName.initBugly] = PlatDef.SdkFuncName.initBugly;\n        this.sdkFunc[PlatDef.SdkFuncName.buglySetUserId] = PlatDef.SdkFuncName.buglySetUserId;\n        this.sdkFunc[PlatDef.SdkFuncName.setAppVersion] = PlatDef.SdkFuncName.setAppVersion;\n\n\n\n        this.sdkFunc[PlatDef.SdkFuncName.sdkSubmitVipInfo] = PlatDef.SdkFuncName.sdkSubmitVipInfo;\n        this.sdkFunc[PlatDef.SdkFuncName.sdkToAppScore] = PlatDef.SdkFuncName.sdkToAppScore;\n        this.sdkFunc[PlatDef.SdkFuncName.commonFunc] = PlatDef.SdkFuncName.commonFunc;\n        this.sdkFunc[PlatDef.SdkFuncName.sdkGetOtherInfo] = PlatDef.SdkFuncName.sdkGetOtherInfo;\n    }\n\n    /** 本地设置:原生是原生代码中设置，web通过链接解析设置 */\n    protected loadLocalSetting() {\n        super.loadLocalSetting();\n        this.supportQuitGame = c2f.storage.getPlainBool(GameConsts.PlatSupportQuit, false);\n        this.supportAccountCenter = c2f.storage.getPlainBool(GameConsts.PlatSupportAccCenter, false);\n        this.supportSwitchAcc = c2f.storage.getPlainBool(GameConsts.PlatSupportAccSwitch, false);\n\n        this.appVersion = c2f.storage.getPlainItem(GameConsts.AppVersion, '5.01.01');\n        this.resVersion = c2f.storage.getPlainItem(GameConsts.ResVersion, '0.01.01');\n    }\n\n    /** 设置原生访问接口名称 */\n    public setFuncNames(newNames: Object) {\n        for (let key in newNames) {\n            if (this.sdkFunc.hasOwnProperty(key)) {\n                this.sdkFunc[key] = newNames[key];\n            }\n        }\n    }\n\n    /** 获得平台配置信息 */\n    public loadPlatCfg() {\n        let cfg = this.getPlatCfg();\n        if (cfg) {\n            try {\n                this.platCfg = JSON.parse(cfg);\n            } catch (error) {\n                //TODO:解密配置\n            }\n        }\n    }\n\n    /** 获得渠道配置 */\n    private getPlatCfg() {\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.getPlatCfg];\n        let cfg = this.callNativeMethod(funcName, \"(Ljava/lang/String;)Ljava/lang/String;\", \"\");\n        c2f.log.logConfig(`${funcName} ==>>:` + cfg);\n        return cfg;\n    }\n\n    /** 获得手机信息 */\n    public loadPhoneInfo() {\n        //添加回调\n        this.registerNativeCbs(PlatDef.SdkCbFuncName.onPhoneInfoResult, this.onLoadPhoneRet.bind(this));\n        //调佣\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.loadPhoneInfo];\n        this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", \"\");\n    }\n\n    /** 拷贝到剪贴板 */\n    public copyToClipboard(txt: string) {\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.copyToClipboard];\n        this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", txt);\n    }\n\n    /** 初始化SDK */\n    public initSDK(param: any) {\n        //添加回调\n        this.registerNativeCbs(PlatDef.SdkCbFuncName.onSdkInit, this.onSdkInitRet.bind(this));\n        //调用\n        let strParam = this.getParamString(param);\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.sdkInit];\n        this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", strParam);\n    }\n\n    /** 登录 */\n    public login() {\n        //添加回调\n        this.registerNativeCbs(PlatDef.SdkCbFuncName.onSdkLogin, this.onSdkLoginRet.bind(this));\n        //添加回调\n        this.registerNativeCbs(PlatDef.SdkCbFuncName.onSdkLogout, this.onSdkLogoutRet.bind(this));\n        //调用\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.sdkLogin];\n        this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", \"\");\n    }\n\n    /** 登出 */\n    public logout() {\n        //调用\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.sdkLogout];\n        this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", \"\");\n    }\n\n    /** 切换账号 */\n    public switchAccount() {\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.sdkSwitchAcc];\n        this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", \"\");\n    }\n\n    /** 支付 */\n    public pay(rchgCfg: any, ts: number, payCbUrl: string) {\n        //添加回调\n        this.registerNativeCbs(PlatDef.SdkCbFuncName.onSdkPayResult, this.onSdkPayRet.bind(this));\n\n        let info: PlatDef.PayData = JSON.parse(JSON.stringify(this.playerInfo));\n        //透传信息\n        let extendInfo: any = {};\n        extendInfo.plrId = info.roleId;\n        extendInfo.prdId = rchgCfg.Id;\n        extendInfo.price = rchgCfg.Price;\n        extendInfo.sdkFlag = this.platCfg.sdkFlag;\n        extendInfo.ts = ts;\n\n        //商品信息补充\n        info.prdId = rchgCfg.Id;\n        info.prdName = rchgCfg.Name;\n        info.prdDesc = rchgCfg.Des;\n        info.storeId = rchgCfg.StoreId;\n        info.price100 = rchgCfg.Price;\n\n        info.svrId = `${this.playerInfo.areaId * 1000 + this.playerInfo.svrId}`;\n        info.svrName = `${this.playerInfo.areaId}-${this.playerInfo.svrName}`;\n\n        info.extInfo = JSON.stringify(extendInfo);\n        info.payCbUrl = payCbUrl;\n\n        let strParam = this.getParamString(info);\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.sdkPay];\n        this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", strParam);\n    }\n\n    /** 退出游戏 */\n    public quitGame() {\n        //添加回调\n        this.registerNativeCbs(PlatDef.SdkCbFuncName.onSdkExit, this.onSdkExitRet.bind(this));\n        //调用\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.sdkQuitGame];\n        this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", \"\");\n    }\n\n    /** 用户中心 */\n    public openAccountCenter() {\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.sdkAccCenter];\n        this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", \"\");\n    }\n\n    /** 提交用户信息 */\n    public submitInfo(flag: string, ext?: any) {\n        let info: PlatDef.SubmitData = JSON.parse(JSON.stringify(this.playerInfo));\n        info.submitFlag = flag;\n        info.svrId = `${this.playerInfo.areaId * 1000 + this.playerInfo.svrId}`;\n        info.svrName = `${this.playerInfo.areaId}-${this.playerInfo.svrName}`;\n\n        info.eventName = '';\n\n        let strParam = this.getParamString(info);\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.sdkSubmit];\n        this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", strParam);\n    }\n\n    /** 展示用户协议 */\n    public showPrivacyPolicy(txt: string) {\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.sdkPrivacyPolicy];\n        this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", txt);\n    }\n\n    /** 分享 */\n    public share() {\n        let prdInfo: any = {};\n        prdInfo.svrId = `${this.playerInfo.areaId * 1000 + this.playerInfo.svrId}`;\n        prdInfo.uid = this.playerInfo.roleId;\n        let strParam = this.getParamString(prdInfo);\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.sdkShare];\n        this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", strParam);\n    }\n\n    /** 提交VIP信息 */\n    public sumbitVipInfo() {\n        //添加回调\n        this.registerNativeCbs(PlatDef.SdkCbFuncName.onSdkSubmitVip, this.onSdkSubmitVipRet.bind(this));\n        //上传信息\n        let strParam = this.getParamString(this.playerInfo);\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.sdkSubmitVipInfo];\n        this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", strParam);\n    }\n\n    /** 前往应用内评分 */\n    public toAppStroeScore() {\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.sdkToAppScore];\n        this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", '');\n    }\n\n    /** 初始化bugly */\n    public initBugly() {\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.initBugly];\n        this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", '');\n    }\n    /** 设置bugly userId */\n    public buglySetUserId(flag: string) {\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.buglySetUserId];\n        this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", flag);\n    }\n    /** bugly 版本*/\n    public setAppVersion(flag: string) {\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.setAppVersion];\n        this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", flag);\n    }\n\n\n    /** 通用函数接口 */\n    public commonFunc(param: any) {\n        let strParam = this.getParamString(param);\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.commonFunc];\n        this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", strParam);\n    }\n\n    /** 其他扩展接口 */\n    public getOtherByFlag(flag: string) {\n        let funcName = this.sdkFunc[PlatDef.SdkFuncName.sdkGetOtherInfo];\n        let retStr = this.callNativeMethod(funcName, \"(Ljava/lang/String;)V\", flag);\n        return retStr;\n    }\n\n\n\n\n\n\n    /** 调用平台方法 */\n    protected callNativeMethod(methodName: string, sig: string, params: string) {\n        let result = null;\n        if (cc.sys.os === cc.sys.OS_ANDROID) {\n            result = jsb.reflection.callStaticMethod(this.andClass, methodName, sig, params);\n        } else if (cc.sys.os === cc.sys.OS_IOS) {\n            //接口名称修改\n            let iosClassName = this.iosClass;\n            let iosFunc2Name = methodName;\n            if (this.sdkMapping) {\n                if (this.sdkMapping.IOSClass) {\n                    iosClassName = this.sdkMapping.IOSClass;\n                }\n                if (this.sdkMapping[methodName]) {\n                    iosFunc2Name = this.sdkMapping[methodName]\n                }\n                if (params && params != \"\") {\n                    //TODO:参数加密\n                    let encodePa = \"\";\n                    result = jsb.reflection.callStaticMethod(iosClassName, iosFunc2Name + \":\", encodePa);\n                } else {\n                    result = jsb.reflection.callStaticMethod(iosClassName, iosFunc2Name);\n                }\n                if (result && typeof result == 'string') {\n                    //TODO:返回结果解密\n                }\n            } else {\n                if (params && params != \"\") {\n                    result = jsb.reflection.callStaticMethod(iosClassName, iosFunc2Name + \":\", params);\n                } else {\n                    result = jsb.reflection.callStaticMethod(iosClassName, iosFunc2Name);\n                }\n            }\n        }\n        return result;\n    }\n\n    /** 注册原生回调CC */\n    private registerNativeCbs(funcName: string, func: Function) {\n        //加入回调列表\n        cc.nativeSDK = cc.nativeSDK || {};\n        if (!cc.nativeSDK.cbFuncs) {\n            cc.nativeSDK.cbFuncs = {};\n        }\n        cc.nativeSDK.cbFuncs[funcName] = func;\n        //原生到CC全局函数\n        if (!cc.nativeSDK.native2CCB) {\n            cc.nativeSDK.native2CCB = (funcN: string, params: any) => {\n                if (cc.nativeSDK.cbFuncs.hasOwnProperty(funcN)) {\n                    let dstFunc = cc.nativeSDK.cbFuncs[funcN];\n                    dstFunc && dstFunc(params);\n                }\n            }\n        }\n    }\n\n\n}"]}