{"version":3,"sources":["assets/Script/game/UIHelper.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["/** UI相关工具函数汇总·不可引入子包文件 */\n\nimport { GameCalc } from \"./GameCalculator\";\nimport { GameConsts } from \"./GameConsts\";\nimport { GameHelper } from \"./GameHelper\";\nimport { UIPa } from \"./UIParam\";\n\n\nexport class UIHelper {\n\n    /** 播放背景音乐 */\n    static playMusic(name: string, cb: Function = null) {\n        if (!name) {\n            return;\n        }\n        let url = GameConsts.ResUrl.music + name;\n        c2f.audio.playBgmURL(url, cb);\n    }\n\n    /** 播放音效 */\n    static playEffect(name: string) {\n        if (!name) {\n            return;\n        }\n        let url = GameConsts.ResUrl.soundEft + name;\n        c2f.audio.playSfxURL(url);\n    }\n\n\n\n\n\n\n\n\n    static setItemNameWithInfo(txtLabel: cc.Label, txtName: string, quality: number, applyColor: boolean = true) {\n        txtLabel.string = txtName;\n        if (applyColor) {\n            let shaderLabel = txtLabel.node.getComponent(\"ShaderArtLabel\");\n            if (shaderLabel) {\n                let doubClr = GameConsts.QualityDoubClr[quality];\n                if (doubClr) {\n                    let clrTmp = cc.color(0, 0, 0);\n                    shaderLabel.gradient = 2;\n                    shaderLabel.color1 = clrTmp.fromHEX(doubClr[0]).clone();\n                    shaderLabel.color2 = clrTmp.fromHEX(doubClr[1]).clone();\n                } else {\n                    shaderLabel.gradient = 1;\n                    shaderLabel.color1 = cc.color(0, 0, 0).fromHEX(GameConsts.QualityColor[quality]);\n                }\n            } else {\n                txtLabel.node.color = txtLabel.node.color.fromHEX(GameConsts.QualityColor[quality]);\n            }\n        }\n    }\n\n\n\n\n\n    /** 逐字显示文本 */\n    static showTxtBySingleWord(txt: cc.Label, str: string, totalTime: number, cb: Function) {\n        let len = str.length;\n        let eachTime = totalTime / len;\n        let idx = 0;\n\n        cc.Tween.stopAllByTarget(txt.node);\n        let twSub1 = cc.tween(txt.node)\n            .call(() => {\n                if (idx == len - 1) {\n                    cc.Tween.stopAllByTarget(txt.node);\n                    cb && cb();\n                }\n                txt.string = str.slice(0, idx + 1);\n                idx++;\n            })\n        let twSub2 = cc.tween(txt.node).delay(eachTime);\n        cc.tween(txt.node)\n            .sequence(twSub1, twSub2)\n            .repeatForever()\n            .start()\n    }\n\n    /** 逐字显示富文本 */\n    static showRichTxtWithSingleWord(richTxt: cc.RichText, str: string, interDur: number, cb: Function) {\n        const regex = /<.+?\\/?>/g; // 匹配尖括号标签\n        const matchArr = str.match(regex);\n        const specialChar = \"│\";\n        const replaceStr = str.replace(regex, specialChar); // 标签数组\n        const textArr: string[] = replaceStr.split(specialChar); // 文字数组\n        const strArr: string[] = []; // 存放处理过的文字数组\n        let paraNum = 0; // 待替换参数个数\n        for (let text of textArr) {\n            // 非空字符替换成类似 $[0-n] 参数\n            if (text !== \"\") {\n                text = `$[${paraNum}]`;\n                paraNum += 1;\n            }\n            strArr.push(text);\n        }\n        let templetStr: string = strArr.join(specialChar); // 数组转成待替换字符串\n        for (let index = 0; index < textArr.length; index++) {\n            // 转换代替换字符串之后, 删除文字数组多余空字符\n            if (textArr[index] === \"\") {\n                textArr.splice(index, 1);\n                index = index - 1;\n            }\n        }\n        while (templetStr.search(specialChar) !== -1) {\n            // 数组转成的字符串原本 '特殊字符' 位置都是富文本标签的位置, 替换回标签\n            if (matchArr[0]) {\n                templetStr = templetStr.replace(specialChar, matchArr[0].toString());\n                matchArr.splice(0, 1);\n            } else {\n                templetStr = templetStr.replace(specialChar, \"\");// 空字符串替换,防止死循环\n                console.warn(\"matchArr not enough\");\n            }\n        }\n        const lastStrArr: string[] = []; // 转换后富文本数组\n        const arrayParm: string[] = new Array(paraNum).fill(\"\"); // 替换参数数组\n        for (let i = 0; i < textArr.length; i++) {\n            for (const text of textArr[i]) {\n                arrayParm[i] = arrayParm[i] + text;\n                let replaceStr1 = templetStr;\n                for (let index = 0; index < paraNum; index++) {\n                    replaceStr1 = replaceStr1.replace(`$[${index}]`, arrayParm[index]);\n                }\n                lastStrArr.push(replaceStr1);\n            }\n        }\n\n        let len = lastStrArr.length;\n        let idx = 0;\n        cc.Tween.stopAllByTarget(richTxt.node);\n        let twSub1 = cc.tween(richTxt.node)\n            .call(() => {\n                if (idx >= len - 1) {\n                    richTxt.string = str;\n                    cc.Tween.stopAllByTarget(richTxt.node);\n                    cb && cb();\n                } else {\n                    richTxt.string = lastStrArr[idx];\n                    idx++;\n                }\n            })\n        let twSub2 = cc.tween(richTxt.node).delay(interDur);\n        cc.tween(richTxt.node)\n            .sequence(twSub1, twSub2)\n            .repeatForever()\n            .start()\n    }\n\n    /** 滚动显示数字\n     * cbEve  每一次刷新的回调\n     */\n    static showScrollNum(txt: cc.Label | cc.RichText, dstNum: number, beginNum: number, duration: number, cb: Function, cbEve?: Function) {\n        cc.Tween.stopAllByTarget(txt.node);\n        let count = dstNum - beginNum;\n        if (count == 0) {\n            txt.string = dstNum.toString();\n        } else {\n            let step = 1;\n            let minEach = 1 / cc.game.getFrameRate();\n            let totalCount = duration / minEach\n            step = count / totalCount\n            // let step = 1;\n            // const minEach = 1 / cc.game.getFrameRate();\n            // let eachTime = duration / count;\n            // if (eachTime < minEach) {\n            //     step = Math.ceil(minEach / eachTime);\n            //     eachTime = minEach;\n            // }\n            let curNum = beginNum;\n            let twSub1 = cc.tween(txt.node)\n                .call(() => {\n                    if (curNum >= dstNum) {\n                        curNum = dstNum\n                        cc.Tween.stopAllByTarget(txt.node);\n                        cb && cb();\n                    }\n                    if (cbEve) {\n                        cbEve(Math.ceil(curNum))\n                    } else {\n                        txt.string = Math.ceil(curNum).toString();\n                    }\n                    curNum += step;\n                })\n            let twSub2 = cc.tween(txt.node).delay(0);\n            cc.tween(txt.node)\n                .sequence(twSub1, twSub2)\n                .repeatForever()\n                .start()\n        }\n    }\n\n\n\n    /** 给richText加上黑色描边 */\n    static formatRichTextOutline(txt: string, width: number = 2) {\n        return `<outline color=#000000 width=${width}>${txt}</outline>`;\n    }\n\n    /** 给richText加上带颜色描边 */\n    static formatRichTextOutlineWithColor(txt: string, color: string, width: number = 2) {\n        return `<outline color=${color} width=${width}>${txt}</outline>`;\n    }\n\n    /** 自旋转动画 */\n    static playRotateEfx(node: cc.Node, onceDur: number = 5) {\n        cc.Tween.stopAllByTarget(node);\n        cc.tween(node)\n            .by(onceDur, { angle: -360 })\n            .repeatForever()\n            .start();\n    }\n\n    /** 呼吸动画 */\n    static playBreatheEfx(node: cc.Node, scale: number, play: boolean) {\n        cc.Tween.stopAllByTarget(node);\n        if (play) {\n            let twSub1 = cc.tween(node).by(1, { scaleX: scale, scaleY: scale });\n            let twSub2 = cc.tween(node).by(0.8, { scaleX: -scale, scaleY: -scale });\n            let twsub3 = cc.tween(node).delay(0.5);\n            cc.tween(node)\n                .sequence(twSub1, twSub2, twsub3)\n                .repeatForever()\n                .start();\n        }\n    }\n\n    /** 获取动作打击次数 */\n    static getHitTimesByInfo(spineFile: string, actionName: string) {\n        let totalHitCnt = 0;\n        const allConf = szg.cfg.getCfgData('spineCount');\n        const spineConf = allConf[spineFile];\n        if (spineConf && spineConf[actionName]) {\n            const acts = spineConf[actionName].act;\n            if (acts) {\n                for (let oneAct of acts) {\n                    for (let oneBlt of oneAct) {\n                        let hitCnt = 0;\n                        const efxConf = allConf[oneBlt];\n                        if (efxConf && efxConf.play && efxConf.play.hitCnt) {\n                            hitCnt = efxConf.play.hitCnt;\n                        }\n                        totalHitCnt += hitCnt;\n                    }\n                }\n            } else {\n                totalHitCnt = spineConf[actionName].hitCnt;\n            }\n        }\n        return totalHitCnt;\n    }\n\n\n\n    /** 处理技能文本颜色 */\n    static getskillDes(skillDes: string, isActive: boolean) {\n        let colorStr = isActive ? \"<color=#40953c>\" : \"<color=#B77474>\"\n        return this.getStrReplace(skillDes, colorStr)\n    }\n\n    /** 处理技能文本颜色 */\n    static getStrReplace(skillDes: string, colorStr: string) {\n        skillDes = skillDes.replace(/<color=/gi, colorStr)\n        for (let i = 0; i < 6; i++) {\n            skillDes = skillDes.replace(\"{\" + i + \"}>\", \"\")\n        }\n        return skillDes\n    }\n\n    /**筛选敏感文本   */\n    static filterSensitiveWords(text: string): boolean {\n        let sensitiveWords: string[] = []\n        for (let c = 21000; c < 21999; c++) {\n            let itemStr = c2f.language.words(c)\n            if (itemStr && itemStr != \"\" && !Number(itemStr)) {\n                sensitiveWords.push(itemStr)\n            }\n        }\n        for (let word of sensitiveWords) {\n            if (text.includes(word)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**筛选特殊字符文本 */\n    static filterSpecialCharacters(input: string): boolean {\n        let str = input\n        let strTemp = this.filterChineseCharacters(str)\n        let specialCharacters = strTemp.match(/\\W+/g);\n        let ishave = false\n        if (specialCharacters && specialCharacters.length > 0) {\n            ishave = true\n        }\n        return ishave\n    }\n    /**过滤掉所有中文 */\n    static filterChineseCharacters(str: string): string {\n        const chineseRegex = /[\\u4e00-\\u9fa5]/g;\n        return str.replace(chineseRegex, \"\");\n    }\n    /**筛选出中英文 */\n    static splitChineseAndEnglish(str: string): { chinese: string, english: string } {\n        const chineseRegex = /[\\u4e00-\\u9fa5]/g;\n        const englishRegex = /[a-zA-Z]/g;\n        const chinese = str.match(chineseRegex);\n        const english = str.match(englishRegex);\n        return {\n            chinese: chinese ? chinese.join(\"\") : \"\",\n            english: english ? english.join(\"\") : \"\"\n        };\n    }\n\n\n    /** 显示文件中的长文本 */\n    static showLongTxtByFile(title: string, bundle: GameConsts.Bundle, fileUrl: string) {\n        c2f.res.load(bundle, fileUrl, cc.TextAsset, (err: Error | null, asset: cc.TextAsset) => {\n            if (err) {\n                cc.error(err.message);\n            } else {\n                let { EntranceUI } = require('EntranceView');\n                c2f.gui.open(EntranceUI.LongTxtDialog, { content: asset.text, title: title });\n            }\n            c2f.res.release(fileUrl, cc.TextAsset, bundle);\n        });\n    }\n\n    /** 设置带天数的倒计时(省略模式):\n     * eg. >1天： dd天hh:mm:ss\n     * eg. <1天 | <1分钟: ss\n     *          | <1小时: mm:ss\n     *          | >1小时: hh:mm:ss\n     */\n    static setCutdownWithDayMini(comp: cc.Component, restDur: number, endCb: () => void = null, txtFormat: string = null) {\n        let cutDownComp = comp.getComponent('CountdownLabel');\n        if (cutDownComp) {\n            let dayStr = \"%{d}\" + c2f.language.words(2504) + \"%{hh}:%{mm}:%{mm}\";\n            cutDownComp.startCountdown(\n                restDur,\n                {\n                    S: \"%{ss}\",\n                    M: \"%{mm}:%{ss}\",\n                    H: \"%{hh}:%{mm}:%{ss}\",\n                    D: dayStr\n                },\n                txtFormat,\n                null,\n                endCb);\n        }\n    }\n\n    /** 设置带天数的倒计时(固定模式) \n     * eg. >1天：dd天hh:mm\n     * eg. <1天: hh:mm:ss\n    */\n    static setCutdownWithDayFixed(comp: cc.Component, restDur: number, endCb: () => void = null, txtFormat: string = null) {\n        let cutDownComp = comp.getComponent('CountdownLabel');\n        if (cutDownComp) {\n            let hms = \"%{hh}:%{mm}:%{ss}\"\n            let dayStr = \"%{d}\" + c2f.language.words(2504) + \"%{hh}:%{mm}\";\n            cutDownComp.startCountdown(\n                restDur,\n                {\n                    S: hms,\n                    M: hms,\n                    H: hms,\n                    D: dayStr\n                },\n                txtFormat,\n                null,\n                endCb);\n        }\n    }\n\n\n\n    /** 艺术字标题设置: eg. 七日狂欢|#925C41|#FFEFA6|#FBFDF4*/\n    static setShaderArtLabelString(label: cc.Component, title: string) {\n        let artLabel = label.getComponent('ShaderArtLabel');\n        if (artLabel) {\n            let subs = title.split('|');\n            if (subs.length > 0) {\n                artLabel.node.getComponent(cc.Label).string = subs[0];\n            }\n            if (subs.length > 1 && subs[1].length > 0) {\n                artLabel.outlineColor = artLabel.outlineColor.fromHEX(subs[1]);\n            }\n            if (subs.length > 2 && subs[2].length > 0) {\n                artLabel.color1 = artLabel.color1.fromHEX(subs[2]);\n            }\n            if (subs.length > 3 && subs[3].length > 0) {\n                artLabel.color2 = artLabel.color2.fromHEX(subs[3]);\n            }\n        }\n    }\n\n    /** 播放UI特效 */\n    static playUIEffect(skeleton: sp.Skeleton, efxName: string, action: string, isLoop: boolean, evtCb: Function) {\n        skeleton.setEventListener((x: sp.spine.TrackEntry, ev: sp.spine.Event | number) => {\n            if (typeof ev == 'number') {\n                return;\n            }\n            if (ev.data.name == 'key') {\n                evtCb && evtCb();\n            } else if (ev.data.name == 'sound') {\n                // UIHelper.playEffect(ev.stringValue);\n            }\n        })\n        let url = GameConsts.ResUrl.uiEfx + `${efxName}/${efxName}`;\n        c2f.utils.view.changeSkeletonData(skeleton, url, () => {\n            if (skeleton && skeleton.isValid) {\n                skeleton.setAnimation(0, action, isLoop);\n            }\n        })\n    }\n\n\n\n\n    static playSkeAni(skeItem: sp.Skeleton, aniName: string, callBack: Function = null, isloop: boolean = false, trackIndex: number = 0, timeScale: number = 1) {\n        skeItem.node.active = true\n        // skeItem.clearTracks()\n        skeItem.setAnimation(trackIndex, aniName, isloop);\n        skeItem.timeScale = timeScale\n        skeItem.setCompleteListener((data) => {\n            if (callBack) {\n                callBack()\n                callBack = null\n            }\n        });\n    }\n\n    /**\n     * n阶贝塞尔曲线 \n     * @param target \n     * @param config 控制点\n     * @param opts \n     * @returns to(time, {}, ExternalFun.createBezier(node, config))\n     */\n    static createBezier(target: cc.Node, config: UIPa.MoveConfig, opts?: any) {\n        opts = opts || Object.create(null);\n\n\n        let factorial: Function = (n: number): number => {\n            let result = 1;\n            for (let i = 2; i <= n; i++) {\n                result *= i;\n            }\n            return result;\n        }\n\n\n        /**\n         * \n         * @param controlPoints 控制点\n         * @param progressRatio 比例系数\n         * @returns \n         */\n        let calculateBezierPoint: Function = (\n            controlPoints: { x: number, y: number }[],\n            progressRatio: number\n        ): { x: number, y: number } => {\n            const n = controlPoints.length - 1;\n            const t = progressRatio;\n\n\n            const bernstein = (i: number, n: number, t: number): number => {\n                const coefficient =\n                    factorial(n) / (factorial(i) * factorial(n - i));\n                return coefficient * Math.pow(t, i) * Math.pow(1 - t, n - i);\n            };\n\n\n\n\n            const point: { x: number, y: number } = { x: 0, y: 0 };\n            for (let i = 0; i <= n; i++) {\n                const b = bernstein(i, n, t);\n                point.x += controlPoints[i].x * b;\n                point.y += controlPoints[i].y * b;\n            }\n\n\n            return point;\n        }\n        let points: { x: number, y: number }[] = []\n        if (config.controlPoint) {\n            points.push(...config.controlPoint)\n        }\n        points.splice(0, 0, config.startPos)\n        points.push(config.endPos)\n\n\n        opts.onUpdate = (arg: cc.Vec3, ratio: number) => {\n            let point: { x: number, y: number } = calculateBezierPoint(points, ratio);\n            target.setPosition(point.x, point.y)\n        };\n        return opts\n    }\n\n\n    /**\n     * 以某点为圆心，生成圆周上等分点的坐标\n     *\n     * @param {number} r 半径\n     * @param {cc.Vec2} pos 圆心坐标\n     * @param {number} count 等分点数量\n     * @param {number} [randomScope=80] 等分点的随机波动范围\n     * @returns {cc.Vec2[]} 返回等分点坐标\n     */\n    static getCirclePoints(r: number, pos: cc.Vec3 | cc.Vec2, count: number, randomScope: number = 20): cc.Vec2[] {\n        let points = [];\n        let radians = (Math.PI / 180) * Math.round(360 / count);\n        for (let i = 0; i < count; i++) {\n            let x = pos.x + r * Math.sin(radians * i);\n            let y = pos.y + r * Math.cos(radians * i);\n            points.unshift(cc.v3(x + Math.random() * randomScope, y + Math.random() * randomScope, 0));\n        }\n        return points;\n    }\n\n\n    /**\n     * 以某点为圆心，生成圆周上等分点的坐标\n     *\n     * @param {number} r1 起点半径\n     * @param {number} r2 终点点半径\n     * @param {cc.Vec2} pos 圆心坐标\n     * @param {number} count 等分点数量\n     * @param {number} [randomScope=80] 等分点的随机波动范围\n     * @returns {cc.Vec2[]} 返回等分点坐标\n     */\n    static getCirclePointsArr(r1: number, r2: number, pos: cc.Vec3 | cc.Vec2, count: number, randomScope: number = 20): cc.Vec3[][] {\n        let points: cc.Vec3[][] = [];\n        let radians = (Math.PI / 180) * Math.round(360 / count);\n        for (let i = 0; i < count; i++) {\n            let x1 = pos.x + r1 * Math.sin(radians * i);\n            let y1 = pos.y + r1 * Math.cos(radians * i);\n            let x2 = pos.x + r2 * Math.sin(radians * i);\n            let y2 = pos.y + r2 * Math.cos(radians * i);\n            let randomX = Math.random() * randomScope\n            let randomY = Math.random() * randomScope\n            let item = [cc.v3(x1 + randomX, y1 + randomY), cc.v3(x2 + randomX, y2 + randomY)]\n            points.push(item);\n        }\n        return points;\n    }\n\n    /** 显示网络错误 */\n    static showNetError(code: number) {\n        if (cc.assetManager.getBundle(GameConsts.Bundle.mainPack)) {\n            const isDisconnect = code == 99999 ? true : false;\n            if (isDisconnect) {\n                c2f.gui.notifyTxt('509');\n                c2f.gui.hideLoading(true);\n            }\n        } else {\n            const isDisconnect = code == 99999 ? true : false;\n            if (isDisconnect) {\n                c2f.gui.notifyTxt('509');\n                c2f.gui.hideLoading(true);\n            }\n        }\n    }\n\n\n}\n"]}