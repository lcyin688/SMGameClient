{"version":3,"sources":["assets/mainPack/script/basketBall/BasketBallMain/BasketBallMain.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { UIVControlBase } from './../../../../c2f-framework/gui/layer/UIVControlBase';\nimport { C2FEnum } from './../../../../c2f-framework/define/C2FEnum';\nimport BasketBallMainModel from './BasketBallMainModel';\nimport BasketBallMainView from './BasketBallMainView';\nimport { GameHelper } from '../../../../Script/game/GameHelper';\nimport { UIHelper } from '../../../../Script/game/UIHelper';\nimport { EntranceUI } from '../../../../entrance/script/EntranceView';\nimport { EventName } from '../../../../Script/game/EventName';\nimport { GameConsts } from '../../../../Script/game/GameConsts';\nimport Ball from '../Ball/Ball';\n\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport default class BasketBallMain extends UIVControlBase {\n    /** 预制名 给实例调用 */\n    public prefabName = 'F_BasketBallMain';\n\n    public model: BasketBallMainModel = undefined;\n    public view: BasketBallMainView = undefined;\n\n    protected onLoad(): void {\n        UIHelper.playMusic('physics2048BackMusic');\n        GameHelper.setPhysics(true)\n        c2f.event.on(EventName.EName.newBall, this.newBall, this);\n        this.loadTabItemFirst(this.startView.bind(this))\n    }\n\n    protected onDestroy(): void {\n        c2f.event.off(EventName.EName.newBall, this.newBall, this);\n        super.onDestroy();\n    }\n    protected onViewOpen(param: any) {\n        this.model.initData()\n        this.updateScore()\n    }\n\n\n    protected onEnable(): void {\n        if (super.onEnable) {\n            super.onEnable();\n        }\n        this.on(C2FEnum.UIEvent.ButtonClick, this.onButtonClick, this);\n    }\n\n    protected onDisable(): void {\n        if (super.onDisable) {\n            super.onDisable();\n        }\n        this.off(C2FEnum.UIEvent.ButtonClick);\n    }\n\n    private async onButtonClick(eventType: string, component: cc.Button) {\n        switch (component.name) {\n\n            case this.view.btnMenuButton.name:\n                this.CC_onClickbtnMenu();\n                break;\n\n            default:\n                break;\n        }\n    }\n\n    private CC_onClickbtnMenu() {\n        UIHelper.playEffect('betClick');\n        // UIHelper.playEffect('basketBall/betClick');\n        // c2f.gui.open(EntranceUI.SoundSet)\n        c2f.gui.open(EntranceUI.GameLogin)\n        this.closeView()\n    }\n    public async loadTabItemFirst(cb) {\n        await c2f.res.loadOne(GameConsts.CmmPrefab.ball, cc.Prefab).then((resItem: cc.Prefab) => {\n            this.model.ballItem = resItem;\n            if (cb) {\n                cb();\n            }\n        })\n    }\n\n    private startView() {\n        this.newBall(\"\", \"\")\n    }\n\n    private newBall(str: string, input: any) {\n\n        let nodeItem = c2f.utils.view.instantiateMVCPrefab(this.model.ballItem, this.view.content);\n        this.view.content.addChild(nodeItem)\n        let blockItem = nodeItem.getComponent(Ball)\n        nodeItem.setPosition(this.view.initPos.getPosition())\n        blockItem.init(this); // 启动篮球逻辑\n        // this.newShadow(ballComp);\n    }\n    private startMoveBasket() {\n\n    }\n    private stopMoveBasket() {\n\n    }\n\n    private gameOver() {\n\n    }\n\n    public addScore() {\n        this.model.score += 1;\n        this.updateScore()\n    }\n    private updateScore() {\n        this.view.txtCountLabel.string = this.model.score.toString()\n    }\n    public playNetAnim() {\n\n    }\n\n    public switchMaskLineShow(flag: boolean) {\n        if (flag) {\n            // this.view.line.lo(100);\n        } else {\n            // this.linePreNode.setLocalZOrder(0);\n        }\n    }\n\n}"]}