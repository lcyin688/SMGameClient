{"version":3,"sources":["assets/c2f-framework/App.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,wDAAwD;AACxD,oDAAmD;AACnD,iCAAgC;AAE1B,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAE5C;IAAyB,uBAAY;IAArC;QAAA,qEA0CC;QAxCG,OAAO;QACC,UAAI,GAAY,IAAK,CAAC;;IAuClC,CAAC;IArCa,oBAAM,GAAhB;IACA,CAAC;IAEM,qBAAO,GAAd,UAAe,IAAa;QACxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEnB,SAAS;QACT,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE;YAC3B,EAAE,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;YAC1B,qBAAS,CAAC,UAAU,EAAE,CAAC;YACvB,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;YACjB,GAAG,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;YACtB,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YACrB,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;YACjB,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,0BAAY,CAAC,UAAU,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC;QAEH,SAAS;QACT,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE;YAC3B,EAAE,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;YAC1B,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAK,2BAA2B;YACjD,GAAG,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;YACrB,EAAE,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;YACpB,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;YAChB,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,0BAAY,CAAC,SAAS,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;QAEH,WAAW;QACX,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,SAAG,CAAE,CAAC;QACvC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE;YAClB,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC;gBACtB,GAAG,CAAC,QAAQ,EAAE,CAAC;gBACf,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,0BAAY,CAAC,WAAW,CAAC,CAAC;YAC7C,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAzCQ,GAAG;QADf,OAAO;OACK,GAAG,CA0Cf;IAAD,UAAC;CA1CD,AA0CC,CA1CwB,EAAE,CAAC,SAAS,GA0CpC;AA1CY,kBAAG","file":"","sourceRoot":"/","sourcesContent":["import { EventMessage } from \"./core/event/EventDefine\";\nimport { GameTimer } from \"./core/timer/GameTimer\";\nimport { GUI } from \"./gui/GUI\";\n\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport class App extends cc.Component {\n\n    //UI根节点\n    private root: cc.Node = null!;\n\n    protected onLoad() {\n    }\n\n    public initApp(root: cc.Node) {\n        this.root = root;\n        c2f.gui.init(root);\n\n        // 游戏显示事件\n        cc.game.on(cc.game.EVENT_SHOW, () => {\n            cc.log(\"Game.EVENT_SHOW\");\n            GameTimer.gameResume();\n            c2f.timer.load();\n            c2f.audio.resumeAll();\n            cc.director.resume();\n            cc.game.resume();\n            c2f.event.emit(EventMessage.GAME_ENTER);\n        });\n\n        // 游戏隐藏事件\n        cc.game.on(cc.game.EVENT_HIDE, () => {\n            cc.log(\"Game.EVENT_HIDE\");\n            c2f.timer.save();     // 平台不需要在退出时精准计算时间，直接暂时游戏时间\n            c2f.audio.pauseAll();\n            cc.director.pause();\n            cc.game.pause();\n            c2f.event.emit(EventMessage.GAME_EXIT);\n        });\n\n        // 游戏尺寸修改事件\n        let gui = this.root.addComponent(GUI)!;\n        if (!cc.sys.isMobile) {\n            cc.view.setResizeCallback(() => {\n                gui.autoSize();\n                c2f.event.emit(EventMessage.GAME_RESIZE);\n            });\n        }\n    }\n}"]}