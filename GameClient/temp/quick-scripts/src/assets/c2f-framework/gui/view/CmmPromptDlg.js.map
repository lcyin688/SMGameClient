{"version":3,"sources":["assets/c2f-framework/gui/view/CmmPromptDlg.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,wEAAmE;AAGnE,aAAa;AACP,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAE5C;IAAkC,gCAAY;IAA9C;QAAA,qEAoGC;QAnGG,gBAAgB;QAER,eAAS,GAAyB,IAAI,CAAC;QAE/C,gBAAgB;QAER,iBAAW,GAAyB,IAAI,CAAC;QAEjD,kBAAkB;QAEV,YAAM,GAAyB,IAAI,CAAA;QAE3C,kBAAkB;QAEV,gBAAU,GAAyB,IAAI,CAAC;QAExC,YAAM,GAAQ,EAAE,CAAC;;IAmF7B,CAAC;IAjFW,iCAAU,GAAlB,UAAmB,KAA0B,EAAE,IAAS;QACpD,QAAQ,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE;YACvB,KAAK,QAAQ;gBACT,IAAI,CAAC,IAAI,EAAE,CAAC;gBACZ,MAAM;YACV,KAAK,YAAY;gBACb,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAChB,MAAM;YACV;gBACI,MAAM;SACb;IACL,CAAC;IAED;;;;;;;;;;;;;OAaG;IACH,gCAAS,GAAT,UAAU,MAAgB;QAAhB,uBAAA,EAAA,WAAgB;QACtB,IAAI,CAAC,MAAM,GAAG,MAAM,IAAI,EAAE,CAAC;QAC3B,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IAC5B,CAAC;IAEO,+BAAQ,GAAhB;QACI,IAAI,CAAC,SAAU,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;IAC/C,CAAC;IAEO,iCAAU,GAAlB;QACI,IAAI,CAAC,WAAY,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;IACnD,CAAC;IAEO,oCAAa,GAArB;QACI,IAAI,CAAC,MAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;IAC7C,CAAC;IAEO,wCAAiB,GAAzB;QACI,IAAI,CAAC,UAAW,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC;QACjD,IAAI,CAAC,UAAW,CAAC,IAAK,CAAC,MAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,IAAI,KAAK,CAAC;IAC5E,CAAC;IAEO,2BAAI,GAAZ;QACI,IAAI,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,UAAU,EAAE;YACzC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;SACxB;QACD,IAAI,CAAC,KAAK,EAAE,CAAC;IACjB,CAAC;IAEO,8BAAO,GAAf;QACI,IAAI,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,IAAI,UAAU,EAAE;YAC5C,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;SAC3B;QACD,IAAI,CAAC,KAAK,EAAE,CAAC;IACjB,CAAC;IAEO,+BAAQ,GAAhB;QACI,IAAI,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,IAAI,UAAU,EAAE;YAC7C,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;SAC5B;QACD,IAAI,CAAC,KAAK,EAAE,CAAC;IACjB,CAAC;IAEO,4BAAK,GAAb;QACI,GAAG,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACpC,CAAC;IAED,gCAAS,GAAT;QACI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IACvB,CAAC;IAhGD;QADC,QAAQ,CAAC,uBAAa,CAAC;mDACuB;IAI/C;QADC,QAAQ,CAAC,uBAAa,CAAC;qDACyB;IAIjD;QADC,QAAQ,CAAC,uBAAa,CAAC;gDACmB;IAI3C;QADC,QAAQ,CAAC,uBAAa,CAAC;oDACwB;IAfvC,YAAY;QADxB,OAAO;OACK,YAAY,CAoGxB;IAAD,mBAAC;CApGD,AAoGC,CApGiC,EAAE,CAAC,SAAS,GAoG7C;AApGY,oCAAY","file":"","sourceRoot":"/","sourcesContent":["import LanguageLabel from \"../../component/language/LanguageLabel\";\n\n\n/** 公共提示窗口 */\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport class CmmPromptDlg extends cc.Component {\n    /** 窗口标题多语言组件 */\n    @property(LanguageLabel)\n    private lab_title: LanguageLabel | null = null;\n\n    /** 提示内容多语言组件 */\n    @property(LanguageLabel)\n    private lab_content: LanguageLabel | null = null;\n\n    /** 确认按钮文本多语言组件 */\n    @property(LanguageLabel)\n    private lab_ok: LanguageLabel | null = null\n\n    /** 取消按钮文本多语言组件 */\n    @property(LanguageLabel)\n    private lab_cancel: LanguageLabel | null = null;\n\n    private config: any = {};\n\n    private onTouchEnd(event: cc.Event.EventTouch, data: any) {\n        switch (event.target.name) {\n            case \"btn_ok\":\n                this.onOk();\n                break;\n            case \"btn_cancel\":\n                this.onCancel();\n                break;\n            default:\n                break;\n        }\n    }\n\n    /**\n     * \n     * \n     * @param params 参数 \n     * {\n     *     title:      标题\n     *     content:    内容\n     *     okWord:     ok按钮上的文字\n     *     okFunc:     确认时执行的方法\n     *     cancelWord: 取消按钮的文字\n     *     cancelFunc: 取消时执行的方法\n     *     needCancel: 是否需要取消按钮\n     * }\n     */\n    onUIAdded(params: any = {}) {\n        this.config = params || {};\n        this.setTitle();\n        this.setContent();\n        this.setBtnOkLabel();\n        this.setBtnCancelLabel();\n        this.node.active = true;\n    }\n\n    private setTitle() {\n        this.lab_title!.dataID = this.config.title;\n    }\n\n    private setContent() {\n        this.lab_content!.dataID = this.config.content;\n    }\n\n    private setBtnOkLabel() {\n        this.lab_ok!.dataID = this.config.okWord;\n    }\n\n    private setBtnCancelLabel() {\n        this.lab_cancel!.dataID = this.config.cancelWord;\n        this.lab_cancel!.node!.parent!.active = this.config.needCancel || false;\n    }\n\n    private onOk() {\n        if (typeof this.config.okFunc == \"function\") {\n            this.config.okFunc();\n        }\n        this.close();\n    }\n\n    private onClose() {\n        if (typeof this.config.closeFunc == \"function\") {\n            this.config.closeFunc();\n        }\n        this.close();\n    }\n\n    private onCancel() {\n        if (typeof this.config.cancelFunc == \"function\") {\n            this.config.cancelFunc();\n        }\n        this.close();\n    }\n\n    private close() {\n        c2f.gui.removeByNode(this.node);\n    }\n\n    onDestroy() {\n        this.config = null;\n    }\n}"]}