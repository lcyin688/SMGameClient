{"version":3,"sources":["assets/c2f-framework/gui/layer/LayerTouchEfx.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,kDAAmD;AACnD,yDAAwD;AACxD,qCAAoC;AACpC,kDAAiD;AAEjD,IAAK,UAEJ;AAFD,WAAK,UAAU;IACX,uDAAyC,CAAA;AAC7C,CAAC,EAFI,UAAU,KAAV,UAAU,QAEd;AAED;;GAEG;AACH;IAAmC,iCAAO;IAA1C;;IAiCA,CAAC;IA/BG;;OAEG;IACI,mCAAW,GAAlB;QACI,IAAI,UAAU,GAAG,IAAI,qBAAU,EAAE,CAAC;QAClC,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;QAC7C,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC;QACvB,UAAU,CAAC,UAAU,GAAG,UAAU,CAAC,QAAQ,CAAC;QAC5C,UAAU,CAAC,MAAM,GAAG,EAAE,CAAC;QACvB,UAAU,CAAC,SAAS,GAAG,EAAE,CAAC;QAC1B,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC;QAExB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;YAC1B,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;YACpC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SACzB;IACL,CAAC;IAED,UAAU;IACA,4BAAI,GAAd,UAAe,UAAsB;QAArC,iBAWC;QAVG,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAQ,CAAC,YAAY,EAAE,UAAU,CAAC,UAAU,EAAE,UAAC,GAAiB,EAAE,GAAc;YACzF,IAAI,GAAG,EAAE;gBACL,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;aACjB;YACD,IAAI,SAAS,GAAY,GAAG,CAAC,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;YAClD,UAAU,CAAC,IAAI,GAAG,SAAS,CAAC;YAC5B,IAAI,IAAI,GAAsB,SAAS,CAAC,YAAY,CAAC,qCAAiB,CAAC,CAAC;YACxE,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;YAC7B,iBAAM,UAAU,aAAC,UAAU,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;IACP,CAAC;IACL,oBAAC;AAAD,CAjCA,AAiCC,CAjCkC,iBAAO,GAiCzC;AAjCY,sCAAa","file":"","sourceRoot":"/","sourcesContent":["import { ViewParams } from \"../../define/C2FUIDef\";\nimport { DelegateComponent } from \"./DelegateComponent\";\nimport { LayerUI } from \"./LayerUI\";\nimport { C2FConst } from \"../../define/C2FConst\";\n\nenum PrefabPath {\n    touchEfx = 'commonRes/prefab/TouchEffect',\n}\n\n/*\n * 点击特效层\n */\nexport class LayerTouchEfx extends LayerUI {\n\n    /**\n     * 添加点击特效\n     */\n    public addClickEfx(): void {\n        let viewParams = new ViewParams();\n        let uuid = this.getUuid(PrefabPath.touchEfx);\n        viewParams.uuid = uuid;\n        viewParams.prefabPath = PrefabPath.touchEfx;\n        viewParams.params = {};\n        viewParams.callbacks = {};\n        viewParams.valid = true;\n\n        if (!this.ui_nodes.has(uuid)) {\n            this.ui_nodes.set(uuid, viewParams);\n            this.load(viewParams);\n        }\n    }\n\n    // 获取预制件资源\n    protected load(viewParams: ViewParams) {\n        c2f.res.load(C2FConst.fwBundleName, viewParams.prefabPath, (err: Error | null, res: cc.Prefab) => {\n            if (err) {\n                cc.error(err);\n            }\n            let childNode: cc.Node = c2f.res.instantiate(res);\n            viewParams.node = childNode;\n            let comp: DelegateComponent = childNode.addComponent(DelegateComponent);\n            comp.viewParams = viewParams;\n            super.createNode(viewParams);\n        });\n    }\n}"]}