{"version":3,"sources":["assets/c2f-framework/component/ui/animValue/AnimValueProgress.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yCAAoC;AAE9B,IAAA,KAAmE,EAAE,CAAC,UAAU,EAA9E,OAAO,aAAA,EAAE,QAAQ,cAAA,EAAE,IAAI,UAAA,EAAE,gBAAgB,sBAAA,EAAE,iBAAiB,uBAAkB,CAAC;AAEvF;;GAEG;AAKH;IAA+C,qCAAS;IAAxD;QAAA,qEAwCC;QArCG,mBAAa,GAAY,KAAK,CAAC;QAEvB,kBAAY,GAAmB,IAAI,CAAC;;IAmChD,CAAC;IAlCG,sBAAW,0CAAW;aAAtB;YACI,IAAI,CAAC,IAAI,CAAC,YAAY;gBAAE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC;YAC9E,OAAO,IAAI,CAAC,YAAY,CAAC;QAC7B,CAAC;;;OAAA;IAID,sBAAW,4CAAa;aAAxB;YACI,OAAO,IAAI,CAAC,cAAc,CAAC;QAC/B,CAAC;aACD,UAAyB,CAAW;YAChC,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;QAC5B,CAAC;;;OAHA;IAKS,qCAAS,GAAnB;QACI,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,iBAAM,SAAS,EAAE;YACjB,iBAAM,SAAS,WAAE,CAAC;SACrB;IACL,CAAC;IAED;;OAEG;IACO,wCAAY,GAAtB;QACI,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;SACjD;aAAM;YACH,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;SAC1D;QACD,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACrC;IACL,CAAC;IApCD;QADC,QAAQ,CAAC,EAAE,OAAO,EAAE,YAAY,EAAE,CAAC;4DACL;IAHd,iBAAiB;QAJrC,OAAO;QACP,iBAAiB;QACjB,gBAAgB,CAAC,EAAE,CAAC,WAAW,CAAC;QAChC,IAAI,CAAC,0BAA0B,CAAC;OACZ,iBAAiB,CAwCrC;IAAD,wBAAC;CAxCD,AAwCC,CAxC8C,mBAAS,GAwCvD;kBAxCoB,iBAAiB","file":"","sourceRoot":"/","sourcesContent":["import AnimValue from \"./AnimValue\";\n\nconst { ccclass, property, menu, requireComponent, executeInEditMode } = cc._decorator;\n\n/**\n * 数值渐变的进度条\n */\n@ccclass\n@executeInEditMode\n@requireComponent(cc.ProgressBar)\n@menu(\"c2f/UI/AnimValueProgress\")\nexport default class AnimValueProgress extends AnimValue {\n\n    @property({ tooltip: \"外观仅显示小于1部分\" })\n    onlyLessThan1: boolean = false;\n\n    private _progressBar: cc.ProgressBar = null;\n    public get progressBar(): cc.ProgressBar {\n        if (!this._progressBar) this._progressBar = this.getComponent(cc.ProgressBar);\n        return this._progressBar;\n    }\n\n    /** 进度变化回调 */\n    private _progressChgCb: Function;\n    public get progressChgCb(): Function {\n        return this._progressChgCb;\n    }\n    public set progressChgCb(v: Function) {\n        this._progressChgCb = v;\n    }\n\n    protected onDestroy(): void {\n        this.progressChgCb = null;\n        if (super.onDestroy) {\n            super.onDestroy();\n        }\n    }\n\n    /**\n     * @override\n     */\n    protected onAnimUpdate(): void {\n        if (this.onlyLessThan1) {\n            this.progressBar.progress = this.curValue % 1;\n        } else {\n            this.progressBar.progress = Math.min(this.curValue, 1);\n        }\n        if (this.progressChgCb) {\n            this.progressChgCb(this.curValue);\n        }\n    }\n}\n"]}