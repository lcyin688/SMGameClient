{"version":3,"sources":["assets/c2f-framework/component/ui/multiTexture/assembler/MultiAssemblerRadialFilled.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,mDAA8C;AAE9C,IAAM,IAAI,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;AAEzB,IAAI,QAAQ,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACpE,IAAI,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AAC7B,IAAI,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AACpC,IAAI,iBAAiB,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC7E,IAAI,iBAAiB,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC7E,IAAI,OAAO,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC1B,IAAI,UAAU,GAAG,EAAE,CAAC;AAEpB,SAAS,mBAAmB,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,eAAe;IACjF,yBAAyB;IACzB,IAAI,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC/B,IAAI,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC/B,IAAI,QAAQ,EAAE,QAAQ,CAAC;IACvB,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;QACvB,QAAQ,GAAG,QAAQ,GAAG,QAAQ,CAAC;QAC/B,0BAA0B;QAC1B,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,QAAQ,GAAG,CAAC,EAAE;YAClC,IAAI,KAAK,GAAG,MAAM,CAAC,CAAC,GAAG,QAAQ,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YACpD,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;YAC5B,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;SAChC;QACD,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,QAAQ,GAAG,CAAC,EAAE;YACnC,IAAI,MAAM,GAAG,MAAM,CAAC,CAAC,GAAG,QAAQ,GAAG,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YAEtD,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;YAC7B,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;SACjC;KAEJ;IAED,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;QACvB,QAAQ,GAAG,QAAQ,GAAG,QAAQ,CAAC;QAC/B,2BAA2B;QAC3B,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,QAAQ,GAAG,CAAC,EAAE;YACjC,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,GAAG,QAAQ,GAAG,CAAC,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YAClD,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;YAC5B,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;SAC9B;QACD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,QAAQ,GAAG,CAAC,EAAE;YACpC,IAAI,OAAO,GAAG,MAAM,CAAC,CAAC,GAAG,QAAQ,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YACxD,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;YAC/B,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;SACjC;KAEJ;AACL,CAAC;AAED,SAAS,kBAAkB,CAAC,MAAM;IAC9B,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,EAClB,KAAK,GAAG,IAAI,CAAC,KAAK,EAAE,MAAM,GAAG,IAAI,CAAC,MAAM,EACxC,IAAI,GAAG,IAAI,CAAC,OAAO,GAAG,KAAK,EAAE,IAAI,GAAG,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;IAE9D,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,IAAI,EACpB,CAAC,GAAG,KAAK,GAAG,IAAI,EAAE,CAAC,GAAG,MAAM,GAAG,IAAI,CAAC;IAExC,IAAI,QAAQ,GAAG,SAAS,CAAC;IACzB,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAChB,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAChB,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAChB,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAEhB,IAAI,UAAU,GAAG,MAAM,CAAC,WAAW,EAC/B,EAAE,GAAG,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EACrE,EAAE,GAAG,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;IAE1E,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAClC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAClC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAClC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAElC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;IACtB,IAAI,EAAE,KAAK,QAAQ,CAAC,CAAC,CAAC,EAAE;QACpB,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KAC1B;IACD,IAAI,EAAE,KAAK,QAAQ,CAAC,CAAC,CAAC,EAAE;QACpB,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KAC1B;IACD,IAAI,EAAE,KAAK,QAAQ,CAAC,CAAC,CAAC,EAAE;QACpB,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KAC1B;IACD,IAAI,EAAE,KAAK,QAAQ,CAAC,CAAC,CAAC,EAAE;QACpB,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KAC1B;AACL,CAAC;AAED,SAAS,aAAa,CAAC,WAAW;IAC9B,IAAI,UAAU,GAAG,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC;IAC5C,IAAI,WAAW,GAAG,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC;IAC9C,IAAI,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC;IAEpC,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;IACnB,IAAI,GAAG,GAAG,IAAI,CAAC;IAEf,IAAI,WAAW,CAAC,QAAQ,EAAE;QACtB,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC;QAClC,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,GAAG,WAAW,CAAC,MAAM,CAAC,GAAG,UAAU,CAAC;QAEvD,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,WAAW,CAAC;QACnC,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,GAAG,WAAW,CAAC,KAAK,CAAC,GAAG,WAAW,CAAC;QAEvD,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;QACrB,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;QACrB,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;QACrB,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;KACxB;SACI;QACD,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC;QAClC,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,GAAG,WAAW,CAAC,KAAK,CAAC,GAAG,UAAU,CAAC;QAEtD,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,WAAW,CAAC;QACnC,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,GAAG,WAAW,CAAC,MAAM,CAAC,GAAG,WAAW,CAAC;QAExD,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;QACrB,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;QACrB,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;QACrB,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;KACxB;AACL,CAAC;AAED,SAAS,aAAa,CAAC,KAAK,EAAE,GAAG;IAC7B,IAAI,UAAU,EAAE,UAAU,CAAC;IAC3B,UAAU,GAAG,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;IAC7B,UAAU,GAAG,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;IAE7B,IAAI,UAAU,KAAK,CAAC,IAAI,UAAU,KAAK,CAAC,EAAE;QACtC,OAAO,SAAS,CAAC;KACpB;SAAM,IAAI,UAAU,KAAK,CAAC,EAAE;QACzB,IAAI,UAAU,GAAG,CAAC,EAAE;YAChB,OAAO,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC;SACxB;aAAM;YACH,OAAO,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC;SACxB;KACJ;SAAM;QACH,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC,CAAC;QAC/C,IAAI,UAAU,GAAG,CAAC,EAAE;YAChB,KAAK,IAAI,IAAI,CAAC,EAAE,CAAC;SACpB;QAED,OAAO,KAAK,CAAC;KAChB;AACL,CAAC;AAED;IAAwD,8CAAc;IAAtE;;IAgNA,CAAC;IA/MU,6CAAQ,GAAf;QACI,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;QACzD,IAAI,CAAC,aAAa,EAAE,CAAC;IACzB,CAAC;IAEM,qDAAgB,GAAvB,UAAwB,MAAM;QAC1B,IAAI,KAAK,GAAG,MAAM,CAAC,WAAW,CAAC;QAC/B,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QAEvC,IAAI,MAAM,CAAC,WAAW,EAAE;YACpB,IAAI,SAAS,GAAG,MAAM,CAAC,UAAU,CAAC;YAClC,IAAI,SAAS,GAAG,MAAM,CAAC,UAAU,CAAC;YAClC,IAAI,SAAS,GAAG,CAAC,EAAE;gBACf,SAAS,IAAI,SAAS,CAAC;gBACvB,SAAS,GAAG,CAAC,SAAS,CAAC;aAC1B;YAED,iDAAiD;YACjD,OAAO,SAAS,IAAI,GAAG;gBAAE,SAAS,IAAI,GAAG,CAAC;YAC1C,OAAO,SAAS,GAAG,GAAG;gBAAE,SAAS,IAAI,GAAG,CAAC;YAEzC,SAAS,IAAI,IAAI,CAAC;YAClB,SAAS,IAAI,IAAI,CAAC;YAElB,gBAAgB;YAChB,kBAAkB,CAAC,MAAM,CAAC,CAAC;YAC3B,WAAW;YACX,aAAa,CAAC,KAAK,CAAC,CAAC;YAErB,mBAAmB,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,SAAS,EAAE,iBAAiB,CAAC,CAAC;YACnH,mBAAmB,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,SAAS,GAAG,SAAS,EAAE,iBAAiB,CAAC,CAAC;YAE/H,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;YAC/C,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;YAE9B,MAAM,CAAC,WAAW,GAAG,KAAK,CAAC;SAC9B;IACL,CAAC;IAEM,gDAAW,GAAlB,UAAmB,MAAM,EAAE,SAAS,EAAE,SAAS;QAC3C,IAAI,OAAO,GAAG,SAAS,GAAG,SAAS,CAAC;QAEpC,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;QACxB,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;QAEjB,IAAI,MAAM,GAAG,CAAC,CAAC;QACf,IAAI,iBAAiB,GAAG,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC;QAC/C,KAAK,IAAI,aAAa,GAAG,CAAC,EAAE,aAAa,GAAG,CAAC,EAAE,EAAE,aAAa,EAAE;YAC5D,IAAI,QAAQ,GAAG,UAAU,CAAC,aAAa,CAAC,CAAC;YACzC,IAAI,CAAC,QAAQ,EAAE;gBACX,SAAS;aACZ;YACD,QAAQ;YACR,IAAI,SAAS,IAAI,IAAI,EAAE;gBACnB,KAAK,CAAC,MAAM,GAAG,MAAM,GAAG,iBAAiB,CAAC;gBAC1C,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC7F,MAAM,IAAI,iBAAiB,CAAC;gBAC5B,SAAS;aACZ;YACD,cAAc;YACd,IAAI,UAAU,GAAG,aAAa,CAAC,OAAO,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/D,IAAI,QAAQ,GAAG,aAAa,CAAC,OAAO,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7D,IAAI,QAAQ,GAAG,UAAU;gBAAE,QAAQ,IAAI,IAAI,CAAC;YAC5C,UAAU,IAAI,IAAI,CAAC;YACnB,QAAQ,IAAI,IAAI,CAAC;YACjB,SAAS;YACT,KAAK,IAAI,SAAS,GAAG,CAAC,EAAE,SAAS,GAAG,CAAC,EAAE,EAAE,SAAS,EAAE;gBAChD,IAAI,UAAU,IAAI,OAAO,EAAE;oBACvB,SAAS;iBACZ;qBAAM,IAAI,UAAU,IAAI,SAAS,EAAE;oBAChC,KAAK,CAAC,MAAM,GAAG,MAAM,GAAG,iBAAiB,CAAC;oBAC1C,IAAI,QAAQ,IAAI,OAAO,EAAE;wBACrB,uBAAuB;wBACvB,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,iBAAiB,CAAC,aAAa,CAAC,CAAC,CAAC;qBAC3G;yBAAM;wBACH,wBAAwB;wBACxB,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;qBAChG;oBACD,MAAM,IAAI,iBAAiB,CAAC;iBAC/B;qBAAM;oBACH,wBAAwB;oBACxB,IAAI,QAAQ,IAAI,SAAS,EAAE;wBACvB,SAAS;qBACZ;yBAAM,IAAI,QAAQ,IAAI,OAAO,EAAE;wBAC5B,KAAK,CAAC,MAAM,GAAG,MAAM,GAAG,iBAAiB,CAAC;wBAC1C,uBAAuB;wBACvB,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,iBAAiB,CAAC,aAAa,CAAC,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBACxG,MAAM,IAAI,iBAAiB,CAAC;qBAC/B;yBAAM;wBACH,KAAK,CAAC,MAAM,GAAG,MAAM,GAAG,iBAAiB,CAAC;wBAC1C,sBAAsB;wBACtB,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,iBAAiB,CAAC,aAAa,CAAC,EAAE,iBAAiB,CAAC,aAAa,CAAC,CAAC,CAAC;wBACnH,MAAM,IAAI,iBAAiB,CAAC;qBAC/B;iBACJ;gBACD,YAAY;gBACZ,UAAU,IAAI,IAAI,CAAC;gBACnB,QAAQ,IAAI,IAAI,CAAC;aACpB;SACJ;QAED,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QAC7B,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IAEM,oDAAe,GAAtB,UAAuB,MAAM;QACzB,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QACpC,IAAI,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC;QAClC,IAAI,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;QAEvC,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;QACxB,IAAI,aAAa,GAAG,KAAK,CAAC,MAAM,GAAG,aAAa,CAAC;QACjD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,GAAG,aAAa,CAAC;QAEvD,IAAI,UAAU,GAAG,UAAU,CAAC,WAAW,CAAC;QACxC,IAAI,UAAU,CAAC,OAAO,CAAC,aAAa,EAAE,aAAa,CAAC,EAAE;YAClD,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB;QACD,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAEvD,IAAI,KAAK,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,EAC5B,SAAS,GAAG,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAEzC,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC7B,KAAK,IAAI,MAAM,GAAG,CAAC,EAAE,MAAM,GAAG,KAAK,CAAC,MAAM,EAAE,MAAM,IAAI,aAAa,EAAE;YACjE,IAAI,KAAK,GAAG,MAAM,GAAG,QAAQ,CAAC;YAC9B,KAAK,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;YAC5B,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;YACpC,SAAS,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC;SAChC;IACL,CAAC;IAEM,kDAAa,GAApB;QACI,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACnC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;SAChB;IACL,CAAC;IAEM,qDAAgB,GAAvB,UAAwB,MAAM;QAC1B,IAAI,iBAAiB,EAAE;YACnB,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;YACxB,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YACvC,IAAI,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;YACvC,KAAK,IAAI,MAAM,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,MAAM,GAAG,CAAC,EAAE,MAAM,IAAI,aAAa,EAAE;gBACxE,KAAK,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC;gBAC9B,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;aACzC;SACJ;aAAM;YACH,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;YAEvB,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC;YAC/B,IAAI,OAAO,GAAG,MAAM,CAAC,CAAC,EAClB,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,EAC9D,EAAE,GAAG,OAAO,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC;YAEvC,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;YACxB,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YACvC,IAAI,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;YACvC,KAAK,IAAI,MAAM,GAAG,CAAC,EAAE,MAAM,GAAG,KAAK,CAAC,MAAM,EAAE,MAAM,IAAI,aAAa,EAAE;gBACjE,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC;gBACtB,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBAC1B,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;gBACnC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;aAC1C;SACJ;IACL,CAAC;IAEM,sDAAiB,GAAxB,UAAyB,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACvD,IAAI,QAAQ,GAAG,SAAS,CAAC;QACzB,IAAI,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QACtB,IAAI,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QACtB,IAAI,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QACtB,IAAI,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QAEtB,IAAI,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;QACvC,KAAK,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;QACxB,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;QAC5B,KAAK,CAAC,MAAM,GAAG,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;QACxC,KAAK,CAAC,MAAM,GAAG,aAAa,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;QAC5C,KAAK,CAAC,MAAM,GAAG,aAAa,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;QAC5C,KAAK,CAAC,MAAM,GAAG,aAAa,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;QAEhD,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC7B,IAAI,SAAS,EAAE,SAAS,CAAC;QACzB,SAAS,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;QAC1C,SAAS,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;QAC1C,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,GAAG,QAAQ,CAAC,CAAC;QAEjE,SAAS,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;QAC1C,SAAS,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;QAC1C,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,GAAG,aAAa,GAAG,QAAQ,CAAC,CAAC;QAEjF,SAAS,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;QAC1C,SAAS,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;QAC1C,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,GAAG,aAAa,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC;IACzF,CAAC;IAEM,gDAAW,GAAlB,UAAmB,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM;QAClD,IAAI,GAAG,GAAG,IAAI,CAAC;QACf,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;QACjD,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;QACjD,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;QACjD,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;QACjD,KAAK,CAAC,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,SAAS,CAAC;QAC9C,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,SAAS,CAAC;IACtD,CAAC;IACL,iCAAC;AAAD,CAhNA,AAgNC,CAhNuD,wBAAc,GAgNrE","file":"","sourceRoot":"/","sourcesContent":["import MultiAssembler from \"./MultiAssembler\";\n\nconst PI_2 = Math.PI * 2;\n\nlet _vertPos = [cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0)];\nlet _vertices = [0, 0, 0, 0];\nlet _uvs = [0, 0, 0, 0, 0, 0, 0, 0];\nlet _intersectPoint_1 = [cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0)];\nlet _intersectPoint_2 = [cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0)];\nlet _center = cc.v2(0, 0);\nlet _triangles = [];\n\nfunction _calcInsectedPoints(left, right, bottom, top, center, angle, intersectPoints) {\n    //left bottom, right, top\n    let sinAngle = Math.sin(angle);\n    let cosAngle = Math.cos(angle);\n    let tanAngle, cotAngle;\n    if (Math.cos(angle) !== 0) {\n        tanAngle = sinAngle / cosAngle;\n        //calculate right and left\n        if ((left - center.x) * cosAngle > 0) {\n            let yleft = center.y + tanAngle * (left - center.x);\n            intersectPoints[0].x = left;\n            intersectPoints[0].y = yleft;\n        }\n        if ((right - center.x) * cosAngle > 0) {\n            let yright = center.y + tanAngle * (right - center.x);\n\n            intersectPoints[2].x = right;\n            intersectPoints[2].y = yright;\n        }\n\n    }\n\n    if (Math.sin(angle) !== 0) {\n        cotAngle = cosAngle / sinAngle;\n        //calculate  top and bottom\n        if ((top - center.y) * sinAngle > 0) {\n            let xtop = center.x + cotAngle * (top - center.y);\n            intersectPoints[3].x = xtop;\n            intersectPoints[3].y = top;\n        }\n        if ((bottom - center.y) * sinAngle > 0) {\n            let xbottom = center.x + cotAngle * (bottom - center.y);\n            intersectPoints[1].x = xbottom;\n            intersectPoints[1].y = bottom;\n        }\n\n    }\n}\n\nfunction _calculateVertices(sprite) {\n    let node = sprite.node,\n        width = node.width, height = node.height,\n        appx = node.anchorX * width, appy = node.anchorY * height;\n\n    let l = -appx, b = -appy,\n        r = width - appx, t = height - appy;\n\n    let vertices = _vertices;\n    vertices[0] = l;\n    vertices[1] = b;\n    vertices[2] = r;\n    vertices[3] = t;\n\n    let fillCenter = sprite._fillCenter,\n        cx = _center.x = Math.min(Math.max(0, fillCenter.x), 1) * (r - l) + l,\n        cy = _center.y = Math.min(Math.max(0, fillCenter.y), 1) * (t - b) + b;\n\n    _vertPos[0].x = _vertPos[3].x = l;\n    _vertPos[1].x = _vertPos[2].x = r;\n    _vertPos[0].y = _vertPos[1].y = b;\n    _vertPos[2].y = _vertPos[3].y = t;\n\n    _triangles.length = 0;\n    if (cx !== vertices[0]) {\n        _triangles[0] = [3, 0];\n    }\n    if (cx !== vertices[2]) {\n        _triangles[2] = [1, 2];\n    }\n    if (cy !== vertices[1]) {\n        _triangles[1] = [0, 1];\n    }\n    if (cy !== vertices[3]) {\n        _triangles[3] = [2, 3];\n    }\n}\n\nfunction _calculateUVs(spriteFrame) {\n    let atlasWidth = spriteFrame._texture.width;\n    let atlasHeight = spriteFrame._texture.height;\n    let textureRect = spriteFrame._rect;\n\n    let u0, u1, v0, v1;\n    let uvs = _uvs;\n\n    if (spriteFrame._rotated) {\n        u0 = (textureRect.x) / atlasWidth;\n        u1 = (textureRect.x + textureRect.height) / atlasWidth;\n\n        v0 = (textureRect.y) / atlasHeight;\n        v1 = (textureRect.y + textureRect.width) / atlasHeight;\n\n        uvs[0] = uvs[2] = u0;\n        uvs[4] = uvs[6] = u1;\n        uvs[3] = uvs[7] = v1;\n        uvs[1] = uvs[5] = v0;\n    }\n    else {\n        u0 = (textureRect.x) / atlasWidth;\n        u1 = (textureRect.x + textureRect.width) / atlasWidth;\n\n        v0 = (textureRect.y) / atlasHeight;\n        v1 = (textureRect.y + textureRect.height) / atlasHeight;\n\n        uvs[0] = uvs[4] = u0;\n        uvs[2] = uvs[6] = u1;\n        uvs[1] = uvs[3] = v1;\n        uvs[5] = uvs[7] = v0;\n    }\n}\n\nfunction _getVertAngle(start, end) {\n    let placementX, placementY;\n    placementX = end.x - start.x;\n    placementY = end.y - start.y;\n\n    if (placementX === 0 && placementY === 0) {\n        return undefined;\n    } else if (placementX === 0) {\n        if (placementY > 0) {\n            return Math.PI * 0.5;\n        } else {\n            return Math.PI * 1.5;\n        }\n    } else {\n        let angle = Math.atan(placementY / placementX);\n        if (placementX < 0) {\n            angle += Math.PI;\n        }\n\n        return angle;\n    }\n}\n\nexport default class MultiAssemblerRadialFilled extends MultiAssembler {\n    public initData() {\n        this._renderData.createFlexData(0, 4, 6, this.getVfmt());\n        this.updateIndices();\n    }\n\n    public updateRenderData(sprite) {\n        let frame = sprite.spriteFrame;\n        this.packToDynamicAtlas(sprite, frame);\n\n        if (sprite._vertsDirty) {\n            let fillStart = sprite._fillStart;\n            let fillRange = sprite._fillRange;\n            if (fillRange < 0) {\n                fillStart += fillRange;\n                fillRange = -fillRange;\n            }\n\n            //do round fill start [0,1), include 0, exclude 1\n            while (fillStart >= 1.0) fillStart -= 1.0;\n            while (fillStart < 0.0) fillStart += 1.0;\n\n            fillStart *= PI_2;\n            fillRange *= PI_2;\n\n            //build vertices\n            _calculateVertices(sprite);\n            //build uvs\n            _calculateUVs(frame);\n\n            _calcInsectedPoints(_vertices[0], _vertices[2], _vertices[1], _vertices[3], _center, fillStart, _intersectPoint_1);\n            _calcInsectedPoints(_vertices[0], _vertices[2], _vertices[1], _vertices[3], _center, fillStart + fillRange, _intersectPoint_2);\n\n            this.updateVerts(sprite, fillStart, fillRange);\n            this.updateTextureIdx(sprite);\n\n            sprite._vertsDirty = false;\n        }\n    }\n\n    public updateVerts(sprite, fillStart, fillRange) {\n        let fillEnd = fillStart + fillRange;\n\n        let local = this._local;\n        local.length = 0;\n\n        let offset = 0;\n        let floatsPerTriangle = 3 * this.floatsPerVert;\n        for (let triangleIndex = 0; triangleIndex < 4; ++triangleIndex) {\n            let triangle = _triangles[triangleIndex];\n            if (!triangle) {\n                continue;\n            }\n            //all in\n            if (fillRange >= PI_2) {\n                local.length = offset + floatsPerTriangle;\n                this._generateTriangle(local, offset, _center, _vertPos[triangle[0]], _vertPos[triangle[1]]);\n                offset += floatsPerTriangle;\n                continue;\n            }\n            //test against\n            let startAngle = _getVertAngle(_center, _vertPos[triangle[0]]);\n            let endAngle = _getVertAngle(_center, _vertPos[triangle[1]]);\n            if (endAngle < startAngle) endAngle += PI_2;\n            startAngle -= PI_2;\n            endAngle -= PI_2;\n            //testing\n            for (let testIndex = 0; testIndex < 3; ++testIndex) {\n                if (startAngle >= fillEnd) {\n                    //all out\n                } else if (startAngle >= fillStart) {\n                    local.length = offset + floatsPerTriangle;\n                    if (endAngle >= fillEnd) {\n                        //startAngle to fillEnd\n                        this._generateTriangle(local, offset, _center, _vertPos[triangle[0]], _intersectPoint_2[triangleIndex]);\n                    } else {\n                        //startAngle to endAngle\n                        this._generateTriangle(local, offset, _center, _vertPos[triangle[0]], _vertPos[triangle[1]]);\n                    }\n                    offset += floatsPerTriangle;\n                } else {\n                    //startAngle < fillStart\n                    if (endAngle <= fillStart) {\n                        //all out\n                    } else if (endAngle <= fillEnd) {\n                        local.length = offset + floatsPerTriangle;\n                        //fillStart to endAngle\n                        this._generateTriangle(local, offset, _center, _intersectPoint_1[triangleIndex], _vertPos[triangle[1]]);\n                        offset += floatsPerTriangle;\n                    } else {\n                        local.length = offset + floatsPerTriangle;\n                        //fillStart to fillEnd\n                        this._generateTriangle(local, offset, _center, _intersectPoint_1[triangleIndex], _intersectPoint_2[triangleIndex]);\n                        offset += floatsPerTriangle;\n                    }\n                }\n                //add 2 * PI\n                startAngle += PI_2;\n                endAngle += PI_2;\n            }\n        }\n\n        this.allocWorldVerts(sprite);\n        this.updateWorldVerts(sprite);\n    }\n\n    public allocWorldVerts(sprite) {\n        let color = sprite.node._color._val;\n        let renderData = this._renderData;\n        let floatsPerVert = this.floatsPerVert;\n\n        let local = this._local;\n        let verticesCount = local.length / floatsPerVert;\n        this.verticesCount = this.indicesCount = verticesCount;\n\n        let flexBuffer = renderData._flexBuffer;\n        if (flexBuffer.reserve(verticesCount, verticesCount)) {\n            this.updateIndices();\n        }\n        flexBuffer.used(this.verticesCount, this.indicesCount);\n\n        let verts = renderData.vDatas[0],\n            uintVerts = renderData.uintVDatas[0];\n\n        let uvOffset = this.uvOffset;\n        for (let offset = 0; offset < local.length; offset += floatsPerVert) {\n            let start = offset + uvOffset;\n            verts[start] = local[start];\n            verts[start + 1] = local[start + 1];\n            uintVerts[start + 2] = color;\n        }\n    }\n\n    public updateIndices() {\n        let iData = this._renderData.iDatas[0];\n        for (let i = 0; i < iData.length; i++) {\n            iData[i] = i;\n        }\n    }\n\n    public updateWorldVerts(sprite) {\n        if (CC_NATIVERENDERER) {\n            let local = this._local;\n            let world = this._renderData.vDatas[0];\n            let floatsPerVert = this.floatsPerVert;\n            for (let offset = 0, l = world.length; offset < l; offset += floatsPerVert) {\n                world[offset] = local[offset];\n                world[offset + 1] = local[offset + 1];\n            }\n        } else {\n            let node = sprite.node;\n\n            let matrix = node._worldMatrix;\n            let matrixm = matrix.m,\n                a = matrixm[0], b = matrixm[1], c = matrixm[4], d = matrixm[5],\n                tx = matrixm[12], ty = matrixm[13];\n\n            let local = this._local;\n            let world = this._renderData.vDatas[0];\n            let floatsPerVert = this.floatsPerVert;\n            for (let offset = 0; offset < local.length; offset += floatsPerVert) {\n                let x = local[offset];\n                let y = local[offset + 1];\n                world[offset] = x * a + y * c + tx;\n                world[offset + 1] = x * b + y * d + ty;\n            }\n        }\n    }\n\n    public _generateTriangle(verts, offset, vert0, vert1, vert2) {\n        let vertices = _vertices;\n        let v0x = vertices[0];\n        let v0y = vertices[1];\n        let v1x = vertices[2];\n        let v1y = vertices[3];\n\n        let floatsPerVert = this.floatsPerVert;\n        verts[offset] = vert0.x;\n        verts[offset + 1] = vert0.y;\n        verts[offset + floatsPerVert] = vert1.x;\n        verts[offset + floatsPerVert + 1] = vert1.y;\n        verts[offset + floatsPerVert * 2] = vert2.x;\n        verts[offset + floatsPerVert * 2 + 1] = vert2.y;\n\n        let uvOffset = this.uvOffset;\n        let progressX, progressY;\n        progressX = (vert0.x - v0x) / (v1x - v0x);\n        progressY = (vert0.y - v0y) / (v1y - v0y);\n        this._generateUV(progressX, progressY, verts, offset + uvOffset);\n\n        progressX = (vert1.x - v0x) / (v1x - v0x);\n        progressY = (vert1.y - v0y) / (v1y - v0y);\n        this._generateUV(progressX, progressY, verts, offset + floatsPerVert + uvOffset);\n\n        progressX = (vert2.x - v0x) / (v1x - v0x);\n        progressY = (vert2.y - v0y) / (v1y - v0y);\n        this._generateUV(progressX, progressY, verts, offset + floatsPerVert * 2 + uvOffset);\n    }\n\n    public _generateUV(progressX, progressY, verts, offset) {\n        let uvs = _uvs;\n        let px1 = uvs[0] + (uvs[2] - uvs[0]) * progressX;\n        let px2 = uvs[4] + (uvs[6] - uvs[4]) * progressX;\n        let py1 = uvs[1] + (uvs[3] - uvs[1]) * progressX;\n        let py2 = uvs[5] + (uvs[7] - uvs[5]) * progressX;\n        verts[offset] = px1 + (px2 - px1) * progressY;\n        verts[offset + 1] = py1 + (py2 - py1) * progressY;\n    }\n}\n"]}