
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/c2f-framework/utils/Vec3Util.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4b26fT1E2xCqoEu7lvOerwR', 'Vec3Util');
// c2f-framework/utils/Vec3Util.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/** 向量工具 */
var Vec3Util = /** @class */ (function () {
    function Vec3Util() {
    }
    Object.defineProperty(Vec3Util, "x", {
        /**
         * X轴
         */
        get: function () {
            return new cc.Vec3(1, 0, 0);
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Vec3Util, "y", {
        /**
         * Y轴
         */
        get: function () {
            return new cc.Vec3(0, 1, 0);
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Vec3Util, "z", {
        /**
         * Z轴
         */
        get: function () {
            return new cc.Vec3(0, 0, 1);
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Vec3Util, "left", {
        /**
         * 左向量
         */
        get: function () {
            return new cc.Vec3(-1, 0, 0);
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Vec3Util, "right", {
        /**
         * 右向量
         */
        get: function () {
            return new cc.Vec3(1, 0, 0);
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Vec3Util, "up", {
        /**
         * 上向量
         */
        get: function () {
            return new cc.Vec3(0, 1, 0);
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Vec3Util, "down", {
        /**
         * 下向量
         */
        get: function () {
            return new cc.Vec3(0, -1, 0);
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Vec3Util, "forward", {
        /**
         * 前向量
         */
        get: function () {
            return new cc.Vec3(0, 0, 1);
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Vec3Util, "back", {
        /**
         * 后向量
         */
        get: function () {
            return new cc.Vec3(0, 0, -1);
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Vec3Util, "one", {
        /**
         * 1向量
         */
        get: function () {
            return new cc.Vec3(1, 1, 1);
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Vec3Util, "zero", {
        /**
         * 0向量
         */
        get: function () {
            return new cc.Vec3(0, 0, 0);
        },
        enumerable: false,
        configurable: true
    });
    /**
     * 随时间变化进度值
     * @param start  起始位置
     * @param end    结束位置
     * @param t      进度[0，1]
     */
    Vec3Util.progress = function (start, end, t) {
        var current = new cc.Vec3();
        current.x = c2f.utils.math.progress(start.x, end.x, t);
        current.y = c2f.utils.math.progress(start.y, end.y, t);
        current.z = c2f.utils.math.progress(start.z, end.z, t);
        return current;
    };
    /**
     * 求两个三维向量的和
     * @param pos1  向量1
     * @param pos2  向量2
     */
    Vec3Util.add = function (pos1, pos2) {
        var outPos = new cc.Vec3();
        cc.Vec3.add(outPos, pos1, pos2);
        return outPos;
    };
    /**
     * 求两个三维向量的差
     * @param pos1  向量1
     * @param pos2  向量2
     */
    Vec3Util.sub = function (pos1, pos2) {
        var outPos = new cc.Vec3();
        cc.Vec3.subtract(outPos, pos1, pos2);
        return outPos;
    };
    /**
     * 三维向量乘以常量
     * @param pos     向量
     * @param scalar  常量
     */
    Vec3Util.mul = function (pos, scalar) {
        var outPos = new cc.Vec3();
        cc.Vec3.multiplyScalar(outPos, pos, scalar);
        return outPos;
    };
    /**
     * 三维向量除常量
     * @param pos     向量
     * @param scalar  常量
     */
    Vec3Util.div = function (pos, scalar) {
        var outPos = new cc.Vec3();
        outPos.x = pos.x / scalar;
        outPos.y = pos.y / scalar;
        outPos.z = pos.z / scalar;
        return outPos;
    };
    /**
     * 判断两个三维向量的值是否相等
     * @param pos1  向量1
     * @param pos2  向量2
     */
    Vec3Util.equals = function (pos1, pos2) {
        if (pos1.x == pos2.x && pos1.y == pos2.y && pos1.z == pos2.z) {
            return true;
        }
        return false;
    };
    /**
     * 判断两个三维向量的值是否相等
     * @param pos1  向量1
     * @param pos2  向量2
     */
    Vec3Util.v2Equals = function (pos1, pos2) {
        if (pos1.x == pos2.x && pos1.y == pos2.y) {
            return true;
        }
        return false;
    };
    /**
     * 三维向量的模
     * @param pos  向量
     */
    Vec3Util.magnitude = function (pos) {
        return pos.len();
    };
    /**
     * 三维向量归一化
     * @param pos  向量
     */
    Vec3Util.normalize = function (pos) {
        var outPos = new cc.Vec3(pos.x, pos.y, pos.z);
        return outPos.normalize();
    };
    /**
     * 获得位置1，到位置2的方向
     * @param pos1  向量1
     * @param pos2  向量2
     */
    Vec3Util.direction = function (pos1, pos2) {
        var outPos = new cc.Vec3();
        cc.Vec3.subtract(outPos, pos2, pos1);
        return outPos.normalize();
    };
    /**
     * 获得两点间的距离
     * @param pos1  向量1
     * @param pos2  向量2
     */
    Vec3Util.distance = function (pos1, pos2) {
        return cc.Vec3.distance(pos1, pos2);
    };
    /**
     * 插值运算
     * @param posStart  开始俏步
     * @param posEnd    结束位置
     * @param t         时间
     */
    Vec3Util.lerp = function (posStart, posEnd, t) {
        return this.bezierOne(t, posStart, posEnd);
    };
    /**
     * 球面插值
     * @param from  起点
     * @param to    终点
     * @param t     时间
     */
    Vec3Util.slerp = function (from, to, t) {
        if (t <= 0) {
            return from;
        }
        else if (t >= 1) {
            return to;
        }
        var dir = this.rotateTo(from, to, (cc.Vec3.angle(from, to) / Math.PI * 180) * t);
        var lenght = to.len() * t + from.len() * (1 - t);
        return (dir.normalize()).multiplyScalar(lenght);
    };
    /**
     * 向量旋转一个角度
     * @param from  起点
     * @param to    终点
     * @param angle 角并
     */
    Vec3Util.rotateTo = function (from, to, angle) {
        //如果两个方向角度为0，则返回目标
        if (cc.Vec3.angle(from, to) == 0) {
            return to;
        }
        var axis = new cc.Vec3(); // 获得旋转轴
        cc.Vec3.cross(axis, from, to);
        axis.normalize();
        var radian = angle * Math.PI / 180; // 获得弧度
        var rotateMatrix = new cc.Mat4();
        rotateMatrix.rotate(radian, axis);
        return new cc.Vec3(from.x * rotateMatrix.m[0] + from.y * rotateMatrix.m[4] + from.z * rotateMatrix.m[8], from.x * rotateMatrix.m[1] + from.y * rotateMatrix.m[5] + from.z * rotateMatrix.m[9], from.x * rotateMatrix.m[2] + from.y * rotateMatrix.m[6] + from.z * rotateMatrix.m[10]);
    };
    /**
     * 一次贝塞尔即为线性插值函数
     * @param t
     * @param posStart
     * @param posEnd
     * @returns
     */
    Vec3Util.bezierOne = function (t, posStart, posEnd) {
        if (t > 1) {
            t = 1;
        }
        else if (t < 0) {
            t = 0;
        }
        var pStart = posStart.clone();
        var pEnd = posEnd.clone();
        return pStart.multiplyScalar(1 - t).add(pEnd.multiplyScalar(t));
    };
    /**
     * 二次贝塞尔曲线
     * @param t
     * @param posStart
     * @param posCon
     * @param posEnd
     * @returns
     */
    Vec3Util.bezierTwo = function (t, posStart, posCon, posEnd) {
        if (t > 1) {
            t = 1;
        }
        else if (t < 0) {
            t = 0;
        }
        var n = (1 - t);
        var tt = t * t;
        var pStart = posStart.clone();
        var pos = posStart.clone();
        var pCon = posCon.clone();
        var pEnd = posEnd.clone();
        pos.add(pStart.multiplyScalar(n * n));
        pos.add(pCon.multiplyScalar(2 * n * t));
        pos.add(pEnd.multiplyScalar(tt));
        return pos;
    };
    /**
     * 三次贝塞尔
     * @param t
     * @param posStart
     * @param posCon1
     * @param posCon2
     * @param posEnd
     * @returns
     */
    Vec3Util.bezierThree = function (t, posStart, posCon1, posCon2, posEnd) {
        if (t > 1) {
            t = 1;
        }
        else if (t < 0) {
            t = 0;
        }
        var n = (1 - t);
        var nn = n * n;
        var nnn = nn * n;
        var tt = t * t;
        var ttt = tt * t;
        var pStart = posStart.clone();
        var pos = posStart.clone();
        var pCon1 = posCon1.clone();
        var pCon2 = posCon2.clone();
        var pEnd = posEnd.clone();
        pos.add(pStart.multiplyScalar(nnn));
        pos.add(pCon1.multiplyScalar(3 * nn * t));
        pos.add(pCon2.multiplyScalar(3 * n * tt));
        pos.add(pEnd.multiplyScalar(ttt));
        return pos;
    };
    /**
     * 点乘
     * @param dir1 方向量1
     * @param dir2 方向量2
     */
    Vec3Util.dot = function (dir1, dir2) {
        var tempDir1 = dir1;
        var tempDir2 = dir2;
        return tempDir1.x * tempDir2.x + tempDir1.y * tempDir2.y + tempDir1.z * tempDir2.z;
    };
    /**
     * 叉乘
     * @param dir1 方向量1
     * @param dir2 方向量2
     */
    Vec3Util.cross = function (dir1, dir2) {
        var i = new cc.Vec3(1, 0, 0);
        var j = new cc.Vec3(0, 1, 0);
        var k = new cc.Vec3(0, 0, 1);
        var tempDir1 = new cc.Vec3(dir1.x, dir1.y, dir1.z);
        var tempDir2 = new cc.Vec3(dir2.x, dir2.y, dir2.z);
        var iv = i.multiplyScalar(tempDir1.y * tempDir2.z - tempDir2.y * tempDir1.z);
        var jv = j.multiplyScalar(tempDir2.x * tempDir1.z - tempDir1.x * tempDir2.z);
        var kv = k.multiplyScalar(tempDir1.x * tempDir2.y - tempDir2.x * tempDir1.y);
        return iv.add(jv).add(kv);
    };
    /**
     * 获得两个方向向量的角度
     * @param dir1 方向量1
     * @param dir2 方向量2
     */
    Vec3Util.angle = function (dir1, dir2) {
        var dotValue = this.dot(dir1.clone().normalize(), dir2.clone().normalize());
        return Math.acos(dotValue) / Math.PI * 180 * Math.sign(dotValue);
    };
    /**
     * 从节点1到节点2的角度（带有方向的角度）
     * @param a 角度a
     * @param b 角度b
     */
    Vec3Util.angleEx = function (dir1, dir2) {
        var angle = Math.atan2((dir2.y - dir1.y), (dir2.x - dir1.x));
        var theta = angle * (180 / Math.PI);
        return theta;
    };
    /**
     * 获得方向a到方向b的角度（带有方向的角度）
     * @param a 角度a
     * @param b 角度b
     */
    Vec3Util.dirAngle = function (a, b) {
        var c = Vec3Util.cross(a, b);
        var angle = Vec3Util.angle(a, b);
        // a 到 b 的夹角
        var sign = Math.sign(Vec3Util.dot(c.normalize(), Vec3Util.cross(b.normalize(), a.normalize())));
        return angle * sign;
    };
    /**
     * 获得方向a到方向b的角度（带有方向的角度）
     * @param a 角度a
     * @param b 角度b
     */
    Vec3Util.dirAngleEx = function (a, b) {
        var angleA = Vec3Util.angleEx(cc.Vec3.ZERO.clone(), a);
        var angleB = Vec3Util.angleEx(cc.Vec3.ZERO.clone(), b);
        return angleB - angleA;
    };
    /** v2->v3 */
    Vec3Util.vec2To3 = function (a) {
        return new cc.Vec3(a.x, a.y, 0);
    };
    /** 判断两坐标差距是否在范围之内 */
    Vec3Util.isInRange = function (a, b, range) {
        var disX = Math.abs(a.x - b.x);
        var disY = Math.abs(a.y - b.y);
        return disX < range && disY < range;
    };
    /**
     * 圆心在坐标原点的椭圆，以与x轴逆时针方向的角度计算对应椭圆边上的坐标
     */
    Vec3Util.getEllipsePoint = function (a, b, degree) {
        degree = c2f.utils.math.normalizeDegree(degree);
        var k = Math.tan(cc.misc.degreesToRadians(degree));
        var x = Math.sqrt(b * b / (k * k + b * b / a / a));
        if (degree > 90 && degree < 270) {
            x = -x;
        }
        var y = Math.sqrt(b * b - b * b * x * x / a / a);
        if (degree > 180) {
            y = -y;
        }
        return cc.v2(x, y);
    };
    return Vec3Util;
}());
c2f.utils.vec = Vec3Util;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9jMmYtZnJhbWV3b3JrL3V0aWxzL1ZlYzNVdGlsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsV0FBVztBQUNYO0lBQUE7SUFxY0EsQ0FBQztJQWpjRyxzQkFBVyxhQUFDO1FBSFo7O1dBRUc7YUFDSDtZQUNJLE9BQU8sSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDaEMsQ0FBQzs7O09BQUE7SUFLRCxzQkFBVyxhQUFDO1FBSFo7O1dBRUc7YUFDSDtZQUNJLE9BQU8sSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDaEMsQ0FBQzs7O09BQUE7SUFLRCxzQkFBVyxhQUFDO1FBSFo7O1dBRUc7YUFDSDtZQUNJLE9BQU8sSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDaEMsQ0FBQzs7O09BQUE7SUFLRCxzQkFBVyxnQkFBSTtRQUhmOztXQUVHO2FBQ0g7WUFDSSxPQUFPLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDakMsQ0FBQzs7O09BQUE7SUFLRCxzQkFBVyxpQkFBSztRQUhoQjs7V0FFRzthQUNIO1lBQ0ksT0FBTyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNoQyxDQUFDOzs7T0FBQTtJQUtELHNCQUFXLGNBQUU7UUFIYjs7V0FFRzthQUNIO1lBQ0ksT0FBTyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNoQyxDQUFDOzs7T0FBQTtJQUtELHNCQUFXLGdCQUFJO1FBSGY7O1dBRUc7YUFDSDtZ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YTtRQUM1QyxJQUFJLENBQUMsR0FBWSxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN0QyxJQUFJLENBQUMsR0FBWSxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN0QyxJQUFJLENBQUMsR0FBWSxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUV0QyxJQUFJLFFBQVEsR0FBWSxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1RCxJQUFJLFFBQVEsR0FBWSxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUU1RCxJQUFJLEVBQUUsR0FBWSxDQUFDLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RixJQUFJLEVBQUUsR0FBWSxDQUFDLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RixJQUFJLEVBQUUsR0FBWSxDQUFDLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV0RixPQUFPLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFD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Q0FBUyxFQUFFLE1BQWM7UUFDdkQsTUFBTSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNoRCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNuRCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkQsSUFBSSxNQUFNLEdBQUcsRUFBRSxJQUFJLE1BQU0sR0FBRyxHQUFHLEVBQUU7WUFDN0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQ1Y7UUFDRCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNqRCxJQUFJLE1BQU0sR0FBRyxHQUFHLEVBQUU7WUFDZCxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDVjtRQUNELE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkIsQ0FBQztJQUVMLGVBQUM7QUFBRCxDQXJjQSxBQXFjQyxJQUFBO0FBT0QsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsUUFBUSxDQUFDIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIOWQkemHj+W3peWFtyAqL1xuY2xhc3MgVmVjM1V0aWwge1xuICAgIC8qKlxuICAgICAqIFjovbRcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHgoKTogUmVhZG9ubHk8Y2MuVmVjMz4ge1xuICAgICAgICByZXR1cm4gbmV3IGNjLlZlYzMoMSwgMCwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWei9tFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgeSgpOiBSZWFkb25seTxjYy5WZWMzPiB7XG4gICAgICAgIHJldHVybiBuZXcgY2MuVmVjMygwLCAxLCAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBa6L20XG4gICAgICovXG4gICAgc3RhdGljIGdldCB6KCk6IFJlYWRvbmx5PGNjLlZlYzM+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBjYy5WZWMzKDAsIDAsIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOW3puWQkemHj1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgbGVmdCgpOiBSZWFkb25seTxjYy5WZWMzPiB7XG4gICAgICAgIHJldHVybiBuZXcgY2MuVmVjMygtMSwgMCwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5Y+z5ZCR6YePXG4gICAgICovXG4gICAgc3RhdGljIGdldCByaWdodCgpOiBSZWFkb25seTxjYy5WZWMzPiB7XG4gICAgICAgIHJldHVybiBuZXcgY2MuVmVjMygxLCAwLCAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDkuIrlkJHph49cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHVwKCk6IFJlYWRvbmx5PGNjLlZlYzM+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBjYy5WZWMzKDAsIDEsIDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOS4i+WQkemHj1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgZG93bigpOiBSZWFkb25seTxjYy5WZWMzPiB7XG4gICAgICAgIHJldHVybiBuZXcgY2MuVmVjMygwLCAtMSwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5YmN5ZCR6YePXG4gICAgICovXG4gICAgc3RhdGljIGdldCBmb3J3YXJkKCk6IFJlYWRvbmx5PGNjLlZlYzM+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBjYy5WZWMzKDAsIDAsIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWQjuWQkemHj1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgYmFjaygpOiBSZWFkb25seTxjYy5WZWMzPiB7XG4gICAgICAgIHJldHVybiBuZXcgY2MuVmVjMygwLCAwLCAtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogMeWQkemHj1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgb25lKCk6IFJlYWRvbmx5PGNjLlZlYzM+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBjYy5WZWMzKDEsIDEsIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDDlkJHph49cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHplcm8oKTogUmVhZG9ubHk8Y2MuVmVjMz4ge1xuICAgICAgICByZXR1cm4gbmV3IGNjLlZlYzMoMCwgMCwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6ZqP5pe26Ze05Y+Y5YyW6L+b5bqm5YC8XG4gICAgICogQHBhcmFtIHN0YXJ0ICDotbflp4vkvY3nva5cbiAgICAgKiBAcGFyYW0gZW5kICAgIOe7k+adn+S9jee9rlxuICAgICAqIEBwYXJhbSB0ICAgICAg6L+b5bqmWzDvvIwxXVxuICAgICAqL1xuICAgIHN0YXRpYyBwcm9ncmVzcyhzdGFydDogY2MuVmVjMywgZW5kOiBjYy5WZWMzLCB0OiBudW1iZXIpOiBjYy5WZWMzIHtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBuZXcgY2MuVmVjMygpO1xuICAgICAgICBjdXJyZW50LnggPSBjMmYudXRpbHMubWF0aC5wcm9ncmVzcyhzdGFydC54LCBlbmQueCwgdCk7XG4gICAgICAgIGN1cnJlbnQueSA9IGMyZi51dGlscy5tYXRoLnByb2dyZXNzKHN0YXJ0LnksIGVuZC55LCB0KTtcbiAgICAgICAgY3VycmVudC56ID0gYzJmLnV0aWxzLm1hdGgucHJvZ3Jlc3Moc3RhcnQueiwgZW5kLnosIHQpO1xuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmsYLkuKTkuKrkuInnu7TlkJHph4/nmoTlkoxcbiAgICAgKiBAcGFyYW0gcG9zMSAg5ZCR6YePMVxuICAgICAqIEBwYXJhbSBwb3MyICDlkJHph48yXG4gICAgICovXG4gICAgc3RhdGljIGFkZChwb3MxOiBjYy5WZWMzLCBwb3MyOiBjYy5WZWMzKTogY2MuVmVjMyB7XG4gICAgICAgIHZhciBvdXRQb3M6IGNjLlZlYzMgPSBuZXcgY2MuVmVjMygpO1xuICAgICAgICBjYy5WZWMzLmFkZChvdXRQb3MsIHBvczEsIHBvczIpO1xuICAgICAgICByZXR1cm4gb3V0UG9zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOaxguS4pOS4quS4iee7tOWQkemHj+eahOW3rlxuICAgICAqIEBwYXJhbSBwb3MxICDlkJHph48xXG4gICAgICogQHBhcmFtIHBvczIgIOWQkemHjzJcbiAgICAgKi9cbiAgICBzdGF0aWMgc3ViKHBvczE6IGNjLlZlYzMsIHBvczI6IGNjLlZlYzMpOiBjYy5WZWMzIHtcbiAgICAgICAgdmFyIG91dFBvczogY2MuVmVjMyA9IG5ldyBjYy5WZWMzKCk7XG4gICAgICAgIGNjLlZlYzMuc3VidHJhY3Qob3V0UG9zLCBwb3MxLCBwb3MyKTtcbiAgICAgICAgcmV0dXJuIG91dFBvcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDkuInnu7TlkJHph4/kuZjku6XluLjph49cbiAgICAgKiBAcGFyYW0gcG9zICAgICDlkJHph49cbiAgICAgKiBAcGFyYW0gc2NhbGFyICDluLjph49cbiAgICAgKi9cbiAgICBzdGF0aWMgbXVsKHBvczogY2MuVmVjMywgc2NhbGFyOiBudW1iZXIpOiBjYy5WZWMzIHtcbiAgICAgICAgdmFyIG91dFBvczogY2MuVmVjMyA9IG5ldyBjYy5WZWMzKCk7XG4gICAgICAgIGNjLlZlYzMubXVsdGlwbHlTY2FsYXIob3V0UG9zLCBwb3MsIHNjYWxhcik7XG4gICAgICAgIHJldHVybiBvdXRQb3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5LiJ57u05ZCR6YeP6Zmk5bi46YePXG4gICAgICogQHBhcmFtIHBvcyAgICAg5ZCR6YePXG4gICAgICogQHBhcmFtIHNjYWxhciAg5bi46YePXG4gICAgICovXG4gICAgc3RhdGljIGRpdihwb3M6IGNjLlZlYzMsIHNjYWxhcjogbnVtYmVyKTogY2MuVmVjMyB7XG4gICAgICAgIHZhciBvdXRQb3M6IGNjLlZlYzMgPSBuZXcgY2MuVmVjMygpO1xuXG4gICAgICAgIG91dFBvcy54ID0gcG9zLnggLyBzY2FsYXI7XG4gICAgICAgIG91dFBvcy55ID0gcG9zLnkgLyBzY2FsYXI7XG4gICAgICAgIG91dFBvcy56ID0gcG9zLnogLyBzY2FsYXI7XG5cbiAgICAgICAgcmV0dXJuIG91dFBvcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDliKTmlq3kuKTkuKrkuInnu7TlkJHph4/nmoTlgLzmmK/lkKbnm7jnrYlcbiAgICAgKiBAcGFyYW0gcG9zMSAg5ZCR6YePMVxuICAgICAqIEBwYXJhbSBwb3MyICDlkJHph48yXG4gICAgICovXG4gICAgc3RhdGljIGVxdWFscyhwb3MxOiBjYy5WZWMzLCBwb3MyOiBjYy5WZWMzKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChwb3MxLnggPT0gcG9zMi54ICYmIHBvczEueSA9PSBwb3MyLnkgJiYgcG9zMS56ID09IHBvczIueikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5Yik5pat5Lik5Liq5LiJ57u05ZCR6YeP55qE5YC85piv5ZCm55u4562JXG4gICAgICogQHBhcmFtIHBvczEgIOWQkemHjzFcbiAgICAgKiBAcGFyYW0gcG9zMiAg5ZCR6YePMlxuICAgICAqL1xuICAgIHN0YXRpYyB2MkVxdWFscyhwb3MxOiBjYy5WZWMyLCBwb3MyOiBjYy5WZWMyKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChwb3MxLnggPT0gcG9zMi54ICYmIHBvczEueSA9PSBwb3MyLnkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDkuInnu7TlkJHph4/nmoTmqKFcbiAgICAgKiBAcGFyYW0gcG9zICDlkJHph49cbiAgICAgKi9cbiAgICBzdGF0aWMgbWFnbml0dWRlKHBvczogY2MuVmVjMyk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBwb3MubGVuKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5LiJ57u05ZCR6YeP5b2S5LiA5YyWXG4gICAgICogQHBhcmFtIHBvcyAg5ZCR6YePXG4gICAgICovXG4gICAgc3RhdGljIG5vcm1hbGl6ZShwb3M6IGNjLlZlYzMpOiBjYy5WZWMzIHtcbiAgICAgICAgdmFyIG91dFBvczogY2MuVmVjMyA9IG5ldyBjYy5WZWMzKHBvcy54LCBwb3MueSwgcG9zLnopO1xuICAgICAgICByZXR1cm4gb3V0UG9zLm5vcm1hbGl6ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOiOt+W+l+S9jee9rjHvvIzliLDkvY3nva4y55qE5pa55ZCRXG4gICAgICogQHBhcmFtIHBvczEgIOWQkemHjzFcbiAgICAgKiBAcGFyYW0gcG9zMiAg5ZCR6YePMlxuICAgICAqL1xuICAgIHN0YXRpYyBkaXJlY3Rpb24ocG9zMTogY2MuVmVjMywgcG9zMjogY2MuVmVjMyk6IGNjLlZlYzMge1xuICAgICAgICB2YXIgb3V0UG9zOiBjYy5WZWMzID0gbmV3IGNjLlZlYzMoKTtcbiAgICAgICAgY2MuVmVjMy5zdWJ0cmFjdChvdXRQb3MsIHBvczIsIHBvczEpXG4gICAgICAgIHJldHVybiBvdXRQb3Mubm9ybWFsaXplKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6I635b6X5Lik54K56Ze055qE6Led56a7XG4gICAgICogQHBhcmFtIHBvczEgIOWQkemHjzFcbiAgICAgKiBAcGFyYW0gcG9zMiAg5ZCR6YePMlxuICAgICAqL1xuICAgIHN0YXRpYyBkaXN0YW5jZShwb3MxOiBjYy5WZWMzLCBwb3MyOiBjYy5WZWMzKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIGNjLlZlYzMuZGlzdGFuY2UocG9zMSwgcG9zMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5o+S5YC86L+Q566XXG4gICAgICogQHBhcmFtIHBvc1N0YXJ0ICDlvIDlp4vkv4/mraVcbiAgICAgKiBAcGFyYW0gcG9zRW5kICAgIOe7k+adn+S9jee9rlxuICAgICAqIEBwYXJhbSB0ICAgICAgICAg5pe26Ze0XG4gICAgICovXG4gICAgc3RhdGljIGxlcnAocG9zU3RhcnQ6IGNjLlZlYzMsIHBvc0VuZDogY2MuVmVjMywgdDogbnVtYmVyKTogY2MuVmVjMyB7XG4gICAgICAgIHJldHVybiB0aGlzLmJlemllck9uZSh0LCBwb3NTdGFydCwgcG9zRW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnkIPpnaLmj5LlgLxcbiAgICAgKiBAcGFyYW0gZnJvbSAg6LW354K5XG4gICAgICogQHBhcmFtIHRvICAgIOe7iOeCuVxuICAgICAqIEBwYXJhbSB0ICAgICDml7bpl7RcbiAgICAgKi9cbiAgICBzdGF0aWMgc2xlcnAoZnJvbTogY2MuVmVjMywgdG86IGNjLlZlYzMsIHQ6IG51bWJlcik6IGNjLlZlYzMge1xuICAgICAgICBpZiAodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ID49IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0bztcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlyOiBjYy5WZWMzID0gdGhpcy5yb3RhdGVUbyhmcm9tLCB0bywgKGNjLlZlYzMuYW5nbGUoZnJvbSwgdG8pIC8gTWF0aC5QSSAqIDE4MCkgKiB0KTtcbiAgICAgICAgbGV0IGxlbmdodDogbnVtYmVyID0gdG8ubGVuKCkgKiB0ICsgZnJvbS5sZW4oKSAqICgxIC0gdCk7XG4gICAgICAgIHJldHVybiAoZGlyLm5vcm1hbGl6ZSgpKS5tdWx0aXBseVNjYWxhcihsZW5naHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWQkemHj+aXi+i9rOS4gOS4quinkuW6plxuICAgICAqIEBwYXJhbSBmcm9tICDotbfngrlcbiAgICAgKiBAcGFyYW0gdG8gICAg57uI54K5XG4gICAgICogQHBhcmFtIGFuZ2xlIOinkuW5tlxuICAgICAqL1xuICAgIHN0YXRpYyByb3RhdGVUbyhmcm9tOiBjYy5WZWMzLCB0bzogY2MuVmVjMywgYW5nbGU6IG51bWJlcik6IGNjLlZlYzMge1xuICAgICAgICAvL+WmguaenOS4pOS4quaWueWQkeinkuW6puS4ujDvvIzliJnov5Tlm57nm67moIdcbiAgICAgICAgaWYgKGNjLlZlYzMuYW5nbGUoZnJvbSwgdG8pID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0bztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBheGlzOiBjYy5WZWMzID0gbmV3IGNjLlZlYzMoKSAgICAgICAgICAgICAgICAgLy8g6I635b6X5peL6L2s6L20XG4gICAgICAgIGNjLlZlYzMuY3Jvc3MoYXhpcywgZnJvbSwgdG8pO1xuICAgICAgICBheGlzLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgIGxldCByYWRpYW46IG51bWJlciA9IGFuZ2xlICogTWF0aC5QSSAvIDE4MDsgLy8g6I635b6X5byn5bqmXG4gICAgICAgIGxldCByb3RhdGVNYXRyaXg6IGNjLk1hdDQgPSBuZXcgY2MuTWF0NCgpO1xuICAgICAgICByb3RhdGVNYXRyaXgucm90YXRlKHJhZGlhbiwgYXhpcyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBjYy5WZWMzKFxuICAgICAgICAgICAgZnJvbS54ICogcm90YXRlTWF0cml4Lm1bMF0gKyBmcm9tLnkgKiByb3RhdGVNYXRyaXgubVs0XSArIGZyb20ueiAqIHJvdGF0ZU1hdHJpeC5tWzhdLFxuICAgICAgICAgICAgZnJvbS54ICogcm90YXRlTWF0cml4Lm1bMV0gKyBmcm9tLnkgKiByb3RhdGVNYXRyaXgubVs1XSArIGZyb20ueiAqIHJvdGF0ZU1hdHJpeC5tWzldLFxuICAgICAgICAgICAgZnJvbS54ICogcm90YXRlTWF0cml4Lm1bMl0gKyBmcm9tLnkgKiByb3RhdGVNYXRyaXgubVs2XSArIGZyb20ueiAqIHJvdGF0ZU1hdHJpeC5tWzEwXVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOS4gOasoei0neWhnuWwlOWNs+S4uue6v+aAp+aPkuWAvOWHveaVsFxuICAgICAqIEBwYXJhbSB0IFxuICAgICAqIEBwYXJhbSBwb3NTdGFydCBcbiAgICAgKiBAcGFyYW0gcG9zRW5kIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBiZXppZXJPbmUodDogbnVtYmVyLCBwb3NTdGFydDogY2MuVmVjMywgcG9zRW5kOiBjYy5WZWMzKTogY2MuVmVjMyB7XG4gICAgICAgIGlmICh0ID4gMSkge1xuICAgICAgICAgICAgdCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodCA8IDApIHtcbiAgICAgICAgICAgIHQgPSAwXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcFN0YXJ0OiBjYy5WZWMzID0gcG9zU3RhcnQuY2xvbmUoKTtcbiAgICAgICAgbGV0IHBFbmQ6IGNjLlZlYzMgPSBwb3NFbmQuY2xvbmUoKTtcbiAgICAgICAgcmV0dXJuIHBTdGFydC5tdWx0aXBseVNjYWxhcigxIC0gdCkuYWRkKHBFbmQubXVsdGlwbHlTY2FsYXIodCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOS6jOasoei0neWhnuWwlOabsue6v1xuICAgICAqIEBwYXJhbSB0IFxuICAgICAqIEBwYXJhbSBwb3NTdGFydCBcbiAgICAgKiBAcGFyYW0gcG9zQ29uIFxuICAgICAqIEBwYXJhbSBwb3NFbmQgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGJlemllclR3byh0OiBudW1iZXIsIHBvc1N0YXJ0OiBjYy5WZWMzLCBwb3NDb246IGNjLlZlYzMsIHBvc0VuZDogY2MuVmVjMyk6IGNjLlZlYzMge1xuICAgICAgICBpZiAodCA+IDEpIHtcbiAgICAgICAgICAgIHQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHQgPCAwKSB7XG4gICAgICAgICAgICB0ID0gMFxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG4gPSAoMSAtIHQpO1xuICAgICAgICB2YXIgdHQgPSB0ICogdDtcblxuICAgICAgICB2YXIgcFN0YXJ0OiBjYy5WZWMzID0gcG9zU3RhcnQuY2xvbmUoKTtcbiAgICAgICAgdmFyIHBvcyA9IHBvc1N0YXJ0LmNsb25lKCk7XG5cbiAgICAgICAgdmFyIHBDb246IGNjLlZlYzMgPSBwb3NDb24uY2xvbmUoKTtcbiAgICAgICAgdmFyIHBFbmQ6IGNjLlZlYzMgPSBwb3NFbmQuY2xvbmUoKTtcblxuICAgICAgICBwb3MuYWRkKHBTdGFydC5tdWx0aXBseVNjYWxhcihuICogbikpO1xuICAgICAgICBwb3MuYWRkKHBDb24ubXVsdGlwbHlTY2FsYXIoMiAqIG4gKiB0KSk7XG4gICAgICAgIHBvcy5hZGQocEVuZC5tdWx0aXBseVNjYWxhcih0dCkpO1xuXG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5LiJ5qyh6LSd5aGe5bCUXG4gICAgICogQHBhcmFtIHQgXG4gICAgICogQHBhcmFtIHBvc1N0YXJ0IFxuICAgICAqIEBwYXJhbSBwb3NDb24xIFxuICAgICAqIEBwYXJhbSBwb3NDb24yIFxuICAgICAqIEBwYXJhbSBwb3NFbmQgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGJlemllclRocmVlKHQ6IG51bWJlciwgcG9zU3RhcnQ6IGNjLlZlYzMsIHBvc0NvbjE6IGNjLlZlYzMsIHBvc0NvbjI6IGNjLlZlYzMsIHBvc0VuZDogY2MuVmVjMyk6IGNjLlZlYzMge1xuICAgICAgICBpZiAodCA+IDEpIHtcbiAgICAgICAgICAgIHQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHQgPCAwKSB7XG4gICAgICAgICAgICB0ID0gMFxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG4gPSAoMSAtIHQpO1xuICAgICAgICB2YXIgbm4gPSBuICogbjtcbiAgICAgICAgdmFyIG5ubiA9IG5uICogbjtcbiAgICAgICAgdmFyIHR0ID0gdCAqIHQ7XG4gICAgICAgIHZhciB0dHQgPSB0dCAqIHQ7XG5cbiAgICAgICAgdmFyIHBTdGFydDogY2MuVmVjMyA9IHBvc1N0YXJ0LmNsb25lKCk7XG4gICAgICAgIHZhciBwb3MgPSBwb3NTdGFydC5jbG9uZSgpO1xuXG4gICAgICAgIHZhciBwQ29uMTogY2MuVmVjMyA9IHBvc0NvbjEuY2xvbmUoKTtcbiAgICAgICAgdmFyIHBDb24yOiBjYy5WZWMzID0gcG9zQ29uMi5jbG9uZSgpO1xuICAgICAgICB2YXIgcEVuZDogY2MuVmVjMyA9IHBvc0VuZC5jbG9uZSgpO1xuXG4gICAgICAgIHBvcy5hZGQocFN0YXJ0Lm11bHRpcGx5U2NhbGFyKG5ubikpO1xuICAgICAgICBwb3MuYWRkKHBDb24xLm11bHRpcGx5U2NhbGFyKDMgKiBubiAqIHQpKTtcbiAgICAgICAgcG9zLmFkZChwQ29uMi5tdWx0aXBseVNjYWxhcigzICogbiAqIHR0KSk7XG4gICAgICAgIHBvcy5hZGQocEVuZC5tdWx0aXBseVNjYWxhcih0dHQpKTtcblxuICAgICAgICByZXR1cm4gcG9zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOeCueS5mFxuICAgICAqIEBwYXJhbSBkaXIxIOaWueWQkemHjzFcbiAgICAgKiBAcGFyYW0gZGlyMiDmlrnlkJHph48yXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBkb3QoZGlyMTogY2MuVmVjMywgZGlyMjogY2MuVmVjMyk6IG51bWJlciB7XG4gICAgICAgIHZhciB0ZW1wRGlyMTogY2MuVmVjMyA9IGRpcjE7XG4gICAgICAgIHZhciB0ZW1wRGlyMjogY2MuVmVjMyA9IGRpcjI7XG5cbiAgICAgICAgcmV0dXJuIHRlbXBEaXIxLnggKiB0ZW1wRGlyMi54ICsgdGVtcERpcjEueSAqIHRlbXBEaXIyLnkgKyB0ZW1wRGlyMS56ICogdGVtcERpcjIuejtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlj4nkuZhcbiAgICAgKiBAcGFyYW0gZGlyMSDmlrnlkJHph48xXG4gICAgICogQHBhcmFtIGRpcjIg5pa55ZCR6YePMlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgY3Jvc3MoZGlyMTogY2MuVmVjMywgZGlyMjogY2MuVmVjMyk6IGNjLlZlYzMge1xuICAgICAgICB2YXIgaTogY2MuVmVjMyA9IG5ldyBjYy5WZWMzKDEsIDAsIDApO1xuICAgICAgICB2YXIgajogY2MuVmVjMyA9IG5ldyBjYy5WZWMzKDAsIDEsIDApO1xuICAgICAgICB2YXIgazogY2MuVmVjMyA9IG5ldyBjYy5WZWMzKDAsIDAsIDEpO1xuXG4gICAgICAgIHZhciB0ZW1wRGlyMTogY2MuVmVjMyA9IG5ldyBjYy5WZWMzKGRpcjEueCwgZGlyMS55LCBkaXIxLnopO1xuICAgICAgICB2YXIgdGVtcERpcjI6IGNjLlZlYzMgPSBuZXcgY2MuVmVjMyhkaXIyLngsIGRpcjIueSwgZGlyMi56KTtcblxuICAgICAgICB2YXIgaXY6IGNjLlZlYzMgPSBpLm11bHRpcGx5U2NhbGFyKHRlbXBEaXIxLnkgKiB0ZW1wRGlyMi56IC0gdGVtcERpcjIueSAqIHRlbXBEaXIxLnopO1xuICAgICAgICB2YXIganY6IGNjLlZlYzMgPSBqLm11bHRpcGx5U2NhbGFyKHRlbXBEaXIyLnggKiB0ZW1wRGlyMS56IC0gdGVtcERpcjEueCAqIHRlbXBEaXIyLnopO1xuICAgICAgICB2YXIga3Y6IGNjLlZlYzMgPSBrLm11bHRpcGx5U2NhbGFyKHRlbXBEaXIxLnggKiB0ZW1wRGlyMi55IC0gdGVtcERpcjIueCAqIHRlbXBEaXIxLnkpO1xuXG4gICAgICAgIHJldHVybiBpdi5hZGQoanYpLmFkZChrdik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6I635b6X5Lik5Liq5pa55ZCR5ZCR6YeP55qE6KeS5bqmXG4gICAgICogQHBhcmFtIGRpcjEg5pa55ZCR6YePMVxuICAgICAqIEBwYXJhbSBkaXIyIOaWueWQkemHjzJcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGFuZ2xlKGRpcjE6IGNjLlZlYzMsIGRpcjI6IGNjLlZlYzMpOiBudW1iZXIge1xuICAgICAgICBsZXQgZG90VmFsdWUgPSB0aGlzLmRvdChkaXIxLmNsb25lKCkubm9ybWFsaXplKCksIGRpcjIuY2xvbmUoKS5ub3JtYWxpemUoKSk7XG4gICAgICAgIHJldHVybiBNYXRoLmFjb3MoZG90VmFsdWUpIC8gTWF0aC5QSSAqIDE4MCAqIE1hdGguc2lnbihkb3RWYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5LuO6IqC54K5MeWIsOiKgueCuTLnmoTop5LluqbvvIjluKbmnInmlrnlkJHnmoTop5LluqbvvIlcbiAgICAgKiBAcGFyYW0gYSDop5LluqZhXG4gICAgICogQHBhcmFtIGIg6KeS5bqmYlxuICAgICAqL1xuICAgIHN0YXRpYyBhbmdsZUV4KGRpcjE6IGNjLlZlYzMsIGRpcjI6IGNjLlZlYzMpIHtcbiAgICAgICAgbGV0IGFuZ2xlOiBudW1iZXIgPSBNYXRoLmF0YW4yKChkaXIyLnkgLSBkaXIxLnkpLCAoZGlyMi54IC0gZGlyMS54KSlcbiAgICAgICAgbGV0IHRoZXRhOiBudW1iZXIgPSBhbmdsZSAqICgxODAgLyBNYXRoLlBJKTtcbiAgICAgICAgcmV0dXJuIHRoZXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOiOt+W+l+aWueWQkWHliLDmlrnlkJFi55qE6KeS5bqm77yI5bim5pyJ5pa55ZCR55qE6KeS5bqm77yJXG4gICAgICogQHBhcmFtIGEg6KeS5bqmYVxuICAgICAqIEBwYXJhbSBiIOinkuW6pmJcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGRpckFuZ2xlKGE6IGNjLlZlYzMsIGI6IGNjLlZlYzMpOiBudW1iZXIge1xuICAgICAgICB2YXIgYzogY2MuVmVjMyA9IFZlYzNVdGlsLmNyb3NzKGEsIGIpO1xuICAgICAgICB2YXIgYW5nbGU6IG51bWJlciA9IFZlYzNVdGlsLmFuZ2xlKGEsIGIpO1xuICAgICAgICAvLyBhIOWIsCBiIOeahOWkueinklxuICAgICAgICB2YXIgc2lnbiA9IE1hdGguc2lnbihWZWMzVXRpbC5kb3QoYy5ub3JtYWxpemUoKSwgVmVjM1V0aWwuY3Jvc3MoYi5ub3JtYWxpemUoKSwgYS5ub3JtYWxpemUoKSkpKTtcbiAgICAgICAgcmV0dXJuIGFuZ2xlICogc2lnbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDojrflvpfmlrnlkJFh5Yiw5pa55ZCRYueahOinkuW6pu+8iOW4puacieaWueWQkeeahOinkuW6pu+8iVxuICAgICAqIEBwYXJhbSBhIOinkuW6pmFcbiAgICAgKiBAcGFyYW0gYiDop5LluqZiXG4gICAgICovXG4gICAgc3RhdGljIGRpckFuZ2xlRXgoYTogY2MuVmVjMywgYjogY2MuVmVjMyk6IG51bWJlciB7XG4gICAgICAgIGxldCBhbmdsZUEgPSBWZWMzVXRpbC5hbmdsZUV4KGNjLlZlYzMuWkVSTy5jbG9uZSgpLCBhKTtcbiAgICAgICAgbGV0IGFuZ2xlQiA9IFZlYzNVdGlsLmFuZ2xlRXgoY2MuVmVjMy5aRVJPLmNsb25lKCksIGIpO1xuICAgICAgICByZXR1cm4gYW5nbGVCIC0gYW5nbGVBO1xuICAgIH1cblxuICAgIC8qKiB2Mi0+djMgKi9cbiAgICBzdGF0aWMgdmVjMlRvMyhhOiBjYy5WZWMyKSB7XG4gICAgICAgIHJldHVybiBuZXcgY2MuVmVjMyhhLngsIGEueSwgMCk7XG4gICAgfVxuXG4gICAgLyoqIOWIpOaWreS4pOWdkOagh+W3rui3neaYr+WQpuWcqOiMg+WbtOS5i+WGhSAqL1xuICAgIHN0YXRpYyBpc0luUmFuZ2UoYTogY2MuVmVjMywgYjogY2MuVmVjMywgcmFuZ2U6IG51bWJlcikge1xuICAgICAgICBsZXQgZGlzWCA9IE1hdGguYWJzKGEueCAtIGIueCk7XG4gICAgICAgIGxldCBkaXNZID0gTWF0aC5hYnMoYS55IC0gYi55KTtcbiAgICAgICAgcmV0dXJuIGRpc1ggPCByYW5nZSAmJiBkaXNZIDwgcmFuZ2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5ZyG5b+D5Zyo5Z2Q5qCH5Y6f54K555qE5qSt5ZyG77yM5Lul5LiOeOi9tOmAhuaXtumSiOaWueWQkeeahOinkuW6puiuoeeul+WvueW6lOakreWchui+ueS4iueahOWdkOagh1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXRFbGxpcHNlUG9pbnQoYTogbnVtYmVyLCBiOiBudW1iZXIsIGRlZ3JlZTogbnVtYmVyKTogY2MuVmVjMiB7XG4gICAgICAgIGRlZ3JlZSA9IGMyZi51dGlscy5tYXRoLm5vcm1hbGl6ZURlZ3JlZShkZWdyZWUpO1xuICAgICAgICBsZXQgayA9IE1hdGgudGFuKGNjLm1pc2MuZGVncmVlc1RvUmFkaWFucyhkZWdyZWUpKTtcbiAgICAgICAgbGV0IHggPSBNYXRoLnNxcnQoYiAqIGIgLyAoayAqIGsgKyBiICogYiAvIGEgLyBhKSk7XG4gICAgICAgIGlmIChkZWdyZWUgPiA5MCAmJiBkZWdyZWUgPCAyNzApIHtcbiAgICAgICAgICAgIHggPSAteDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeSA9IE1hdGguc3FydChiICogYiAtIGIgKiBiICogeCAqIHggLyBhIC8gYSk7XG4gICAgICAgIGlmIChkZWdyZWUgPiAxODApIHtcbiAgICAgICAgICAgIHkgPSAteTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2MudjIoeCwgeSk7XG4gICAgfVxuXG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgICBpbnRlcmZhY2UgSVV0aWwge1xuICAgICAgICB2ZWM6IHR5cGVvZiBWZWMzVXRpbDtcbiAgICB9XG59XG5jMmYudXRpbHMudmVjID0gVmVjM1V0aWw7XG5leHBvcnQgeyB9O1xuIl19