{"version":3,"sources":["assets/entrance/script/GameLogin/GameLogin.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { UIVControlBase } from './../../../c2f-framework/gui/layer/UIVControlBase';\nimport { C2FEnum } from './../../../c2f-framework/define/C2FEnum';\nimport GameLoginModel from './GameLoginModel';\nimport GameLoginView from './GameLoginView';\nimport { GameHelper } from '../../../Script/game/GameHelper';\nimport { GameConsts } from '../../../Script/game/GameConsts';\nimport { UIHelper } from '../../../Script/game/UIHelper';\nimport { MainPackUI } from '../../../mainPack/script/MainPackView';\nimport { UINetwork } from '../../../Script/game/UINetwork';\n\n\n\n\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport default class GameLogin extends UIVControlBase {\n    /** 预制名 给实例调用 */\n    public prefabName = 'GameLogin';\n\n    public model: GameLoginModel = undefined;\n    public view: GameLoginView = undefined;\n\n\n\n    protected onViewOpen(param: any) {\n        // this.connetToServer()\n    }\n\n    protected onEnable(): void {\n        if (super.onEnable) {\n            super.onEnable();\n        }\n        this.on(C2FEnum.UIEvent.ButtonClick, this.onButtonClick, this);\n    }\n    protected onDisable(): void {\n        if (super.onDisable) {\n            super.onDisable();\n        }\n        this.off(C2FEnum.UIEvent.ButtonClick);\n    }\n\n    protected onLoad(): void {\n        if (super.onLoad) {\n            super.onLoad();\n        }\n        cc.macro.ENABLE_MULTI_TOUCH = false;\n    }\n\n    protected onDestroy(): void {\n        if (super.onDestroy) {\n            super.onDestroy();\n        }\n    }\n\n\n\n    protected start(): void {\n        UIHelper.playMusic('backMusic');\n\n    }\n\n\n    private async onButtonClick(eventType: string, component: cc.Button) {\n        switch (component.name) {\n\n            case this.view.btnStartButton.name:\n                this.CC_onClickbtnStart();\n                break;\n\n            case this.view.btnBasketBallButton.name:\n                this.CC_onClickbtnBasketBall();\n                break;\n\n            case this.view.btnLoginButton.name:\n                this.CC_onClickbtnLogin();\n                break;\n\n\n            case this.view.btn2048Button.name:\n                this.CC_onClickbtn2048();\n                break;\n\n            case this.view.btnCreateMapButton.name:\n                this.CC_onClickbtnCreateMap();\n                break;\n\n\n\n\n\n            default:\n                break;\n        }\n    }\n\n\n\n    private CC_onClickbtnStart() {\n        GameHelper.loadBundle(GameConsts.Bundle.mainPack).then(UIID => {\n            c2f.gui.open(UIID.DesStarMain)\n        });\n    }\n\n\n    private CC_onClickbtn2048() {\n        GameHelper.loadBundle(GameConsts.Bundle.mainPack).then(UIID => {\n            c2f.gui.open(UIID.Physics2048Main)\n        });\n    }\n\n\n    private CC_onClickbtnCreateMap() {\n        GameHelper.loadBundle(GameConsts.Bundle.mainPack).then(UIID => {\n            c2f.gui.open(UIID.MapCreateMain)\n        });\n    }\n\n\n    private CC_onClickbtnBasketBall() {\n        GameHelper.loadBundle(GameConsts.Bundle.mainPack).then(UIID => {\n            c2f.gui.open(UIID.BasketBallMain)\n        });\n    }\n\n    /** 连接服务器 */\n    private connetToServer() {\n        if (!c2f.net.toUI) {\n            c2f.net.toUI = new UINetwork();\n        }\n        let url = \"ws://localhost:8080\";\n        c2f.gui.showLoading();\n        c2f.net.initService().then(() => {\n            c2f.net.connect(url, (reason: string) => {\n                c2f.gui.hideLoading();\n                if (reason === \"Connected\") {\n                    this.loginToGame();\n                } else {\n                    c2f.gui.notifyTxt('1006');\n                    c2f.net.purge();\n                }\n            });\n        });\n    }\n    private loginToGame() {\n        c2f.gui.notifyTxt('513');\n        //发个消息给服务器\n        szg.player.rank.reqLogin(\"lcy\", \"gogogo\")\n\n    }\n\n                    \n    private CC_onClickbtnLogin() {\n        console.error('CC_onClickbtnLogin test 002');\n    \n        // 创建玩家登录信息\n        const playerInfo: msg.player.LoginReq = {\n            account: \"test2025\",\n            password: \"p@ssw0rd\",\n            serverId: 1001\n        };\n\n\n         let ws = new WebSocket(\"ws://127.0.0.1/ws\");\n        //  let url = \"ws://127.0.0.1:8080/ws\";\n        // c2f.webSocket.connect(url)\n        // c2f.webSocket.send(playerInfo)\n    }\n\n\n\n      \n\n\n\n            \n    }"]}