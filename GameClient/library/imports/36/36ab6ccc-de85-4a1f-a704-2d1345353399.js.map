{"version":3,"sources":["assets/mainPack/script/desStar/BlockItem/BlockItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { UIPControlBase } from './../../../../c2f-framework/gui/layer/UIPControlBase';\nimport { C2FEnum } from './../../../../c2f-framework/define/C2FEnum';\nimport BlockItemModel from './BlockItemModel';\nimport BlockItemView from './BlockItemView';\nimport { GameConsts } from '../../../../Script/game/GameConsts';\nimport { UIPa } from '../../../../Script/game/UIParam';\nimport { UIHelper } from '../../../../Script/game/UIHelper';\n\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport default class BlockItem extends UIPControlBase {\n\n\n    /** 预制名 给实例调用 */\n    public prefabName = 'P_BlockItem';\n\n    public model: BlockItemModel = undefined;\n    public view: BlockItemView = undefined;\n\n    protected onEnable(): void {\n        if (super.onEnable) {\n            super.onEnable();\n        }\n        this.on(C2FEnum.UIEvent.ButtonClick, this.onButtonClick, this);\n    }\n\n    protected onDisable(): void {\n        if (super.onDisable) {\n            super.onDisable();\n        }\n        this.off(C2FEnum.UIEvent.ButtonClick);\n    }\n\n    private async onButtonClick(eventType: string, component: cc.Button) {\n        switch (component.name) {\n\n            case this.view.btnButton.name:\n                this.CC_onClickbtn();\n                break;\n\n            default:\n                break;\n        }\n    }\n\n    private CC_onClickbtn() {\n        if (this.model.data && this.model.data.cbFun) {\n            this.model.data.cbFun(this.model.data)\n        }\n    }\n\n    public setInit(data: UIPa.DesStarItemArgs) {\n        this.model.initData(data)\n        this.initView(data)\n    }\n\n    public initView(data: UIPa.DesStarItemArgs) {\n        this.view.skeKuang.active = false\n        this.view.skeBoom.active = false\n        if (data.typ >= 0) {\n            this.node.active = true\n            c2f.utils.view.changeSpriteFrame(this.view.iconSprite, data.url)\n        } else {\n            this.node.active = false\n        }\n    }\n    /**消除特效 */\n    public playExplode(callBack: Function) {\n        UIHelper.playEffect('pop_star');\n        UIHelper.playSkeAni(this.view.skeBoomSkeleton, \"boom\", () => {\n            this.node.active = false\n            this.view.skeKuang.active = false\n            this.view.skeBoom.active = false\n            callBack()\n        }, false, 0, 3)\n    }\n\n    public playChoose() {\n        UIHelper.playSkeAni(this.view.skeKuangSkeleton, \"ani\")\n    }\n}"]}