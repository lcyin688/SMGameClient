{"version":3,"sources":["assets/c2f-framework/config/C2FConfig.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,+CAA8C;AAC9C,+CAA8C;AAC9C,mDAAkD;AAElD,gBAAgB;AAChB;IAMI;QACI,IAAI,CAAC,KAAK,GAAG,IAAI,+BAAc,EAAE,CAAC;IACtC,CAAC;IAEY,2BAAO,GAApB;;;;;;wBACQ,SAAS,GAAG,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC,mBAAQ,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;wBAC3D,qBAAM,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,SAAS,CAAC,EAAA;;wBAApD,GAAG,GAAG,SAA8C;wBACxD,IAAI,CAAC,IAAI,GAAG,IAAI,2BAAY,CAAC,GAAG,CAAC,CAAC;wBAClC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,SAAS,CAAC,CAAC;wBAErC,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,YAAY,CAAC,mBAAQ,CAAC,aAAa,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAClF,QAAQ,GAAG,MAAM,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;wBACxD,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;wBAC/B,UAAU;wBACV,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;;;;;KACpE;IAIa,qBAAW,GAAzB;QACI,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACjB,IAAI,CAAC,SAAS,GAAG,IAAI,SAAS,EAAE,CAAC;SACpC;QACD,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IAPD,WAAW;IACI,mBAAS,GAAc,IAAI,CAAA;IAO9C,gBAAC;CA/BD,AA+BC,IAAA;AAQD,GAAG,CAAC,MAAM,GAAG,SAAS,CAAC,WAAW,EAAE,CAAC","file":"","sourceRoot":"/","sourcesContent":["import { C2FConst } from \"../define/C2FConst\";\nimport { GlobalConfig } from \"./GlobalConfig\";\nimport { WebQueryConfig } from \"./WebQueryConfig\";\n\n/** 游戏配置静态访问类 */\nclass C2FConfig {\n    /** 游戏配置数据，版本号、支持语种等数据 */\n    public game!: GlobalConfig;\n    /** 浏览器查询参数 */\n    private query!: WebQueryConfig;\n\n    constructor() {\n        this.query = new WebQueryConfig();\n    }\n\n    public async initCfg() {\n        let configUrl = c2f.res.getFullUrl(C2FConst.fwBundleName, 'gameCfg');\n        let cfg = await c2f.res.loadOne(configUrl, cc.JsonAsset);\n        this.game = new GlobalConfig(cfg);\n        c2f.res.release(configUrl, cc.JsonAsset);\n        //初始化帧率\n        let localRate = c2f.storage.getPlainItem(C2FConst.localFrameSet, this.game.frameRate);\n        let realRate = Number(localRate) || this.game.frameRate;\n        cc.game.setFrameRate(realRate);\n        //初始化加密key\n        c2f.storage.init(this.game.localDataKey, this.game.localDataKey);\n    }\n\n    /** 静态成员 */\n    private static _instance: C2FConfig = null\n    public static getInstance(): C2FConfig {\n        if (!this._instance) {\n            this._instance = new C2FConfig();\n        }\n        return this._instance;\n    }\n}\n\ndeclare global {\n    interface IC2F {\n        config: C2FConfig;\n    }\n}\n\nc2f.config = C2FConfig.getInstance();\nexport { };"]}