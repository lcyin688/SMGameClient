{"version":3,"sources":["assets/Script/game/GameHelper.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["/** 游戏全域级工具类·不可引入子包文件 */\n\nimport { GameCalc } from \"./GameCalculator\";\nimport { GameConsts } from \"./GameConsts\";\nimport { UIPa } from \"./UIParam\";\n\nexport class GameHelper {\n\n\n\n    /** 加载子包，并且将子包中的UI配置加入界面管理配置中 */\n    static async loadBundle(bundle: GameConsts.Bundle | string) {\n        await c2f.res.loadBundle(bundle);\n        let fileName = c2f.utils.str.uppercaseFirstLetter(bundle);\n        let viewDt = {};\n        viewDt[`${fileName}UI`] = null;\n        viewDt[`${fileName}View`] = null;\n        viewDt = require(`${fileName}View`);\n        c2f.gui.addViewList(viewDt[`${fileName}View`]);\n        return viewDt[`${fileName}UI`];\n    }\n\n    /** 版本比较:verA - verB\n     * = 0: 版本号相同\n     * > 0: verA版本更高\n     * < 0: verB版本更高\n     */\n    static compareVersion(verA: string, verB: string) {\n        let vA = verA.split('.');\n        let vB = verB.split('.');\n        for (let i = 0; i < vA.length; ++i) {\n            let a = parseInt(vA[i]);\n            let b = parseInt(vB[i] || '0');\n            if (a === b) {\n                continue;\n            } else {\n                return a - b;\n            }\n        }\n        if (vB.length > vA.length) {\n            return -1;\n        } else {\n            return 0;\n        }\n    }\n\n    /** 是否为H5游戏 */\n    static isH5Game() {\n        let isH5 = false;\n        if (CC_BUILD) {\n            switch (cc.sys.platform) {\n                case cc.sys.MOBILE_BROWSER:\n                case cc.sys.DESKTOP_BROWSER:\n                    isH5 = true;\n                    break;\n            }\n        } else {\n            isH5 = false;\n        }\n        return isH5;\n    }\n\n    /**一星=白色，二星=绿色，三星=蓝色，四星=紫色，五星=橙色，六星—十星=红 */\n    static starConversionQuality(star: number): number {\n        let data = star\n        if (star > 5) {\n            data = 6\n        }\n        return data\n    }\n    /** map to object */\n    static protoMapToObject(map: Map<any, any>) {\n        if (map == null) {\n            return {}\n        }\n        if (map.forEach == null) {\n            return map\n        }\n        let obj = {};\n        if (map.forEach) {\n            map.forEach(function (val, id) {\n                obj[id] = val;\n            });\n        }\n        return obj;\n    }\n\n    // array To Object\n    static protoArrayToObject(array: number[]) {\n        let obj = {};\n        if (array != null && array.length > 0) {\n            for (let i = 0; i < array.length; ++i) {\n                obj[array[i]] = true;\n            }\n        }\n        return obj;\n    }\n\n\n    /** IDN->idn */\n    static convertIdNToidn(arrIdN: { Id?: number, N?: number }[]) {\n        let ret: csv.Idn_NN[] = [];\n        for (let one of arrIdN) {\n            ret.push({ id: one.Id, n: one.N });\n        }\n        return ret;\n    }\n    /** IdNum->idn */\n    static convertIdNumToidn(arrIdNum: { Id?: number, Num?: number }[]) {\n        let ret: csv.Idn_NN[] = [];\n        for (let one of arrIdNum) {\n            ret.push({ id: one.Id, n: one.Num });\n        }\n        return ret;\n    }\n\n\n    /** 数字转大写 */\n    static conversionUppercase(num: number): string {\n        return c2f.language.words(2400 + num)\n    }\n\n    /** 周几数字转大写 */\n    static conversionUppercaseWeek(num: number): string {\n        let str = \"\"\n        if (num <= 6) {\n            str = c2f.language.words(2400 + num)\n        } else {\n            str = c2f.language.words(30040)\n        }\n        return str\n    }\n\n\n    /**获取数组里边有几个相同的数字 */\n    static getArrHaveCount(arr: number[], num: number) {\n        let count = 0\n        arr.forEach(v => {\n            if (v == num) {\n                count++\n            }\n        });\n        return count\n    }\n\n    /**设置物理引擎状态 */\n    static setPhysics(state: boolean) {\n        let physicsManager = cc.director.getPhysicsManager();\n        physicsManager.enabled = state;\n        physicsManager.debugDrawFlags = 0;\n        cc.PhysicsManager.DrawBits.e_jointBit | cc.PhysicsManager.DrawBits.e_shapeBit;\n        physicsManager.enabledAccumulator = true\n\n        var manager = cc.director.getCollisionManager();\n        manager.enabled = true;\n        manager.enabledDebugDraw = true;\n        manager.enabledDrawBoundingBox = true;\n\n\n\n\n    }\n\n\n\n\n\n}\n"]}