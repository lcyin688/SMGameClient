{"version":3,"sources":["assets/c2f-framework/component/shader/ShaderOutline.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAmE,EAAE,CAAC,UAAU,EAA9E,OAAO,aAAA,EAAE,QAAQ,cAAA,EAAE,IAAI,UAAA,EAAE,gBAAgB,sBAAA,EAAE,iBAAiB,uBAAkB,CAAC;AAEvF,IAAK,WAMJ;AAND,WAAK,WAAW;IACZ,6CAAQ,CAAA;IACR,UAAU;IACV,2CAAO,CAAA;IACP,UAAU;IACV,+CAAS,CAAA;AACb,CAAC,EANI,WAAW,KAAX,WAAW,QAMf;AAMD;IAA2C,iCAAY;IAAvD;QAAA,qEAgCC;QA9BU,kBAAY,GAAa,IAAI,EAAE,CAAC,KAAK,EAAE,CAAC;QAExC,kBAAY,GAAW,CAAC,CAAC;QAEzB,iBAAW,GAAgB,WAAW,CAAC,IAAI,CAAC;QAE5C,iBAAW,GAAY,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAExC,UAAI,GAAgB,IAAI,CAAC;;IAsBrC,CAAC;IArBG,sBAAW,8BAAG;aAAd;YACI,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;gBACZ,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;aACpE;YACD,OAAO,IAAI,CAAC,IAAI,CAAC;QACrB,CAAC;;;OAAA;IAES,6BAAK,GAAf;QACI,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAES,8BAAM,GAAhB;QACI,IAAI,SAAS,EAAE;YACX,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;IACL,CAAC;IAEM,oCAAY,GAAnB;QACI,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACxD,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,aAAa,EAAE,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;IAC3I,CAAC;IA7BD;QADC,QAAQ,CAAC,EAAE,OAAO,EAAE,MAAM,IAAI,MAAM,EAAE,CAAC;uDACO;IAE/C;QADC,QAAQ,CAAC,EAAE,OAAO,EAAE,MAAM,IAAI,MAAM,EAAE,CAAC;uDACR;IAEhC;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,OAAO,EAAE,MAAM,IAAI,MAAM,EAAE,CAAC;sDACjB;IAEnD;QADC,QAAQ,CAAC,EAAE,OAAO,EAAE,MAAM,IAAI,MAAM,EAAE,CAAC;sDACQ;IAR/B,aAAa;QAJjC,OAAO;QACP,gBAAgB;QAChB,iBAAiB;QACjB,IAAI,CAAC,0BAA0B,CAAC;OACZ,aAAa,CAgCjC;IAAD,oBAAC;CAhCD,AAgCC,CAhC0C,EAAE,CAAC,SAAS,GAgCtD;kBAhCoB,aAAa","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property, menu, disallowMultiple, executeInEditMode } = cc._decorator;\n\nenum OutlineType {\n    NONE = 0,\n    /** 外描边 */\n    OUT = 1,\n    /** 内描边 */\n    INNER = 2,\n}\n\n@ccclass\n@disallowMultiple\n@executeInEditMode\n@menu(\"c2f/shader/ShaderOutline\")\nexport default class ShaderOutline extends cc.Component {\n    @property({ tooltip: CC_DEV && \"描边颜色\" })\n    public outlineColor: cc.Color = new cc.Color();\n    @property({ tooltip: CC_DEV && \"描边宽度\" })\n    public outLineWidth: number = 0;\n    @property({ type: cc.Enum(OutlineType), tooltip: CC_DEV && \"描边类型\" })\n    public outlineType: OutlineType = OutlineType.NONE;\n    @property({ tooltip: CC_DEV && \"纹理大小\" })\n    public textureSize: cc.Size = new cc.Size(1, 1);\n\n    private _mat: cc.Material = null;\n    public get mat(): cc.Material {\n        if (!this._mat) {\n            this._mat = this.getComponent(cc.RenderComponent).getMaterial(0);\n        }\n        return this._mat;\n    }\n\n    protected start(): void {\n        this.updateShader();\n    }\n\n    protected update(): void {\n        if (CC_EDITOR) {\n            this.updateShader();\n        }\n    }\n\n    public updateShader(): void {\n        this.mat.setProperty(\"outlineColor\", this.outlineColor);\n        this.mat.setProperty(\"outlineInfo\", new cc.Vec4(this.textureSize.width, this.textureSize.height, this.outLineWidth, this.outlineType));\n    }\n}\n"]}