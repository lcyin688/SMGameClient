{"version":3,"sources":["assets/c2f-framework/redDot/RedDotCompProxy.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAE5C;IAA6C,mCAAc;IAA3D;QAAA,qEAuCC;QApCG,cAAQ,GAAY,IAAI,CAAC;QAGzB,cAAQ,GAAa,IAAI,CAAC;;IAiC9B,CAAC;IA/Ba,mCAAS,GAAnB;QACI,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,GAAG,CAAC,MAAM,CAAC,uBAAuB,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;SACzD;QACD,iBAAM,SAAS,WAAE,CAAC;IACtB,CAAC;IAES,+BAAK,GAAf;QACI,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,aAAa;IACN,qCAAW,GAAlB;QACI,IAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;QAChC,IAAI,CAAC,MAAM,EAAE;YACT,OAAO;SACV;QACD,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC;QAC9D,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC/D,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3E,CAAC;IAEM,qCAAW,GAAlB,UAAmB,QAA6B;QAC5C,iBAAM,WAAW,YAAC,QAAQ,CAAC,CAAC;QAC5B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,QAAQ,KAAK,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACtE,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,QAAQ,KAAK,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACnE,CAAC;IAEM,qCAAW,GAAlB,UAAmB,KAAa;QAC5B,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAA;IAC3C,CAAC;IAnCD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;qDACO;IAGzB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;qDACO;IANT,eAAe;QADnC,OAAO;OACa,eAAe,CAuCnC;IAAD,sBAAC;CAvCD,AAuCC,CAvC4C,GAAG,CAAC,UAAU,GAuC1D;kBAvCoB,eAAe","file":"","sourceRoot":"/","sourcesContent":["\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport default class RedDotCompProxy extends c2f.RedDotComp {\n\n    @property(cc.Node)\n    nodeMask: cc.Node = null;\n\n    @property(cc.Label)\n    txtCount: cc.Label = null;\n\n    protected onDestroy(): void {\n        if (this.dotKey) {\n            c2f.dotMgr.deleteDataByCompDestory(this.dotKey, this);\n        }\n        super.onDestroy();\n    }\n\n    protected start(): void {\n        this.amendDotPos();\n    }\n\n    /** 修正红点位置 */\n    public amendDotPos() {\n        const parent = this.node.parent;\n        if (!parent) {\n            return;\n        }\n        let rtX = (1 - parent.anchorX) * parent.width * parent.scaleX;\n        let rtY = (1 - parent.anchorY) * parent.height * parent.scaleY;\n        this.node.setPosition(cc.v2(rtX + this.offset.x, rtY + this.offset.y));\n    }\n\n    public setShowType(showType: c2f.RedDot.ShowType): void {\n        super.setShowType(showType);\n        this.txtCount.node.active = (showType === c2f.RedDot.ShowType.Number);\n        this.nodeMask.active = (showType === c2f.RedDot.ShowType.Mark);\n    }\n\n    public updateCount(count: number) {\n        this.txtCount.string = count.toString()\n    }\n}"]}