{"version":3,"sources":["assets/c2f-framework/config/GlobalConfig.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { C2FConst } from \"../define/C2FConst\";\n\ninterface GGCfg {\n    version: string;\n    package: string;\n    localDataKey: string;\n    localDataIv: string;\n    httpServer: string;\n    httpTimeout: number;\n    frameRate: number;\n}\ninterface GLgCfg {\n    file: string;\n    type: string[];\n    base: string;\n    default: string;\n}\ninterface GGCDef {\n    config: GGCfg;\n    language: GLgCfg;\n}\n\n\n/* 游戏配置解析，对应 framework/gameConfig.json 配置 */\nexport class GlobalConfig {\n    /** 客户端版本号配置 */\n    get version(): string {\n        return this._data[\"config\"][\"version\"];\n    }\n    /** 包名 */\n    get package(): string {\n        return this._data[\"config\"][\"package\"];\n    }\n    /** 游戏每秒传输帧数 */\n    get frameRate(): number {\n        return this._data.config.frameRate;\n    }\n    /** 本地存储内容加密 key */\n    get localDataKey(): string {\n        return this._data.config.localDataKey;\n    }\n    /** 本地存储内容加密 iv */\n    get localDataIv(): string {\n        return this._data.config.localDataIv;\n    }\n    /** Http 服务器地址 */\n    get httpServer(): string {\n        return this._data.config.httpServer;\n    }\n    /** Http 请求超时时间 */\n    get httpTimeout(): number {\n        return this._data.config.httpTimeout;\n    }\n\n    /** 获取当前客户端支持的语言类型 */\n    get language(): GLgCfg {\n        return this._data.language;\n    }\n    /** 获取当前客户端支持的语言配置文件 */\n    get languageCfgFile(): string {\n        return this._data.language.file || \"languageRes\";\n    }\n    /** 获取当前客户端支持的语言列表 */\n    get languageList(): string[] {\n        return this._data.language.type || [];\n    }\n    /** 获取当前客户端支持的语言配置文件 */\n    get languageDefault(): string {\n        let defLG = this._data.language.default || C2FConst.LanguageKey.zh;\n        if (defLG.length <= 0) {\n            let code = cc.sys.languageCode;\n            if (code.indexOf('zh_') >= 0 || code.indexOf('zh-') >= 0) {\n                defLG = code.indexOf('tw') >= 0 ? C2FConst.LanguageKey.tw : C2FConst.LanguageKey.zh;\n            } else {\n                //TODO: 其他默认语言适配\n                defLG = C2FConst.LanguageKey.zh;\n            }\n        }\n        return defLG;\n    }\n\n    /** 获取当前客户端编辑模式下所用语言 */\n    get lanuageBase(): string {\n        let base = this._data.language.base || C2FConst.LanguageKey.zh;\n        return base;\n    }\n\n    /** 游戏配置数据 */\n    private _data: GGCDef = null;\n    public get data(): any {\n        return this._data;\n    }\n\n    constructor(config: any) {\n        let data = config.json;\n        this._data = Object.freeze(data);\n\n        c2f.log.logConfig(this._data, \"游戏配置\");\n    }\n}"]}