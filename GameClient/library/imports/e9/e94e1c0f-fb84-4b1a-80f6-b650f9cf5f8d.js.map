{"version":3,"sources":["assets/entrance/script/SoundSet/SoundSet.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { UIVControlBase } from './../../../c2f-framework/gui/layer/UIVControlBase';\nimport { C2FEnum } from './../../../c2f-framework/define/C2FEnum';\nimport SoundSetModel from './SoundSetModel';\nimport SoundSetView from './SoundSetView';\nimport { UIHelper } from '../../../Script/game/UIHelper';\nimport { GameConsts } from '../../../Script/game/GameConsts';\n\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport default class SoundSet extends UIVControlBase {\n    /** 预制名 给实例调用 */\n    public prefabName = 'V_SoundSet';\n\n    public model: SoundSetModel = undefined;\n    public view: SoundSetView = undefined;\n\n    protected onEnable(): void {\n        if (super.onEnable) {\n            super.onEnable();\n        }\n        this.on(C2FEnum.UIEvent.ButtonClick, this.onButtonClick, this);\n    }\n\n    protected onDisable(): void {\n        if (super.onDisable) {\n            super.onDisable();\n        }\n        this.off(C2FEnum.UIEvent.ButtonClick);\n    }\n\n    private async onButtonClick(eventType: string, component: cc.Button) {\n        switch (component.name) {\n\n            case this.view.soundBgButton.name:\n                this.CC_onClicksoundBg();\n                break;\n\n            case this.view.soundEffButton.name:\n                this.CC_onClicksoundEff();\n                break;\n\n\n            case this.view.btnCloseButton.name:\n                this.CC_onClickbtnClose();\n                break;\n\n            default:\n                break;\n        }\n    }\n\n    private CC_onClickbtnClose() {\n        UIHelper.playEffect('betClick');\n        this.closeView();\n    }\n\n\n    protected onViewOpen(param: any) {\n        let soundEffCloseState = c2f.storage.getBoolean(GameConsts.StorageKey.soundEff)\n        let soundBgCloseState = c2f.storage.getBoolean(GameConsts.StorageKey.soundBg)\n        this.setSoundBgState(soundBgCloseState)\n        this.setSoundEffState(soundEffCloseState)\n    }\n\n    private setSoundBgState(state: boolean) {\n        let url = state ? GameConsts.ResUrl.entrance + \"btn_shengyin2\" : GameConsts.ResUrl.entrance + \"btn_shengyin1\"\n        c2f.utils.view.changeSpriteFrame(this.view.soundBgSprite, url)\n        c2f.audio.bgmOff = state;\n    }\n\n    private setSoundEffState(state: boolean) {\n        let url = state ? GameConsts.ResUrl.entrance + \"btn_shengyin2\" : GameConsts.ResUrl.entrance + \"btn_shengyin1\"\n        c2f.utils.view.changeSpriteFrame(this.view.soundEffSprite, url)\n        c2f.audio.sfxOff = state;\n    }\n\n    private CC_onClicksoundBg() {\n        UIHelper.playEffect(\"betClick\")\n        let state = c2f.storage.getBoolean(GameConsts.StorageKey.soundBg)\n        this.setSoundBgState(!state)\n        c2f.storage.set(GameConsts.StorageKey.soundBg, !state);\n\n\n\n    }\n\n\n    private CC_onClicksoundEff() {\n        UIHelper.playEffect(\"betClick\")\n        let state = c2f.storage.getBoolean(GameConsts.StorageKey.soundEff)\n        this.setSoundEffState(!state)\n        c2f.storage.set(GameConsts.StorageKey.soundEff, !state);\n\n\n    }\n\n}"]}